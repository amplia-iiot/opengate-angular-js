!function(e,t){"use strict";function a(){Object.defineProperty(this,"fields",{value:{identifier:"provision.administration.identifier",organization:"provision.administration.organization",serviceGroup:"provision.administration.serviceGroup",channel:"provision.administration.channel",feed:"provision.administration.defaultFeed",plan:"provision.administration.plan",resourceType:"resourceType"},writable:!1})}function i(){Object.defineProperty(this,"fields",{value:{specificType:"device.specificType",location:"device.location",name:"device.name",description:"device.description",operationalStatus:"device.operationalStatus",serialNumber:"device.serialNumber",identifier:"device.identifier",model:"device.model",software:"device.software",trustedBoot:"device.trustedBoot",image:"device.image",commsModuleIdentifier:"provision.device.communicationModules[].identifier",commsModuleSpecificType:"provision.device.communicationModules[].specificType",commsModuleImei:"provision.device.communicationModules[].mobile.imei",subscriberIdentifier:"device.communicationModules[].subscriber.identifier",subscriberSerialNumber:"device.communicationModules[].subscriber.serialNumber",subscriberSpecificType:"device.communicationModules[].subscriber.specificType",subscriberName:"device.communicationModules[].subscriber.name",subscriberDescription:"device.communicationModules[].subscriber.description",subscriptionIdentifier:"device.communicationModules[].subscription.identifier",subscriptionSpecificType:"device.communicationModules[].subscription.specificType",subscriptionName:"device.communicationModules[].subscription.name",subscriptionDescription:"device.communicationModules[].subscription.description",subscriptionImsi:"device.communicationModules[].subscription.mobile.imsi",subscriptionMsisdn:"device.communicationModules[].subscription.mobile.msisdn",subscriptionMsisdnVoice:"device.communicationModules[].subscription.mobile.voice.msisdn",subscriptionAddress:"device.communicationModules[].subscription.address",subscriptionHomeOperator:"device.communicationModules[].subscription.mobile.homeOperator",subscriptionRegisteredOperator:"device.communicationModules[].subscription.mobile.registeredOperator"},writable:!1})}function r(){Object.defineProperty(this,"fields",{value:Object.assign({},this.fields,{adState:"provision.device.administrativeState",certificates:"provision.device.certificates",subscriberAdState:"device.communicationModules[].subscriber.administrativeState",subscriptionAdState:"device.communicationModules[].subscription.administrativeState",subscriberIcc:"provision.device.communicationModules[].subscriber.mobile.icc"}),writable:!1})}function o(){Object.defineProperty(this,"fields",{value:Object.assign({},this.fields,{image:"asset.image"}),writable:!1})}function l(){Object.defineProperty(this,"fields",{value:Object.assign({},this.fields,{image:"provision.asset.image"}),writable:!1})}function n(){Object.defineProperty(this,"fields",{value:Object.assign({},this.fields,{surname:"human.surname",surname2:"human.surname2",birthdate:"human.birthdate"}),writable:!1})}function s(){Object.defineProperty(this,"fields",{value:Object.assign({},this.fields,{surname:"provision.human.surname",surname2:"provision.human.surname2",birthdate:"provision.human.birthdate"}),writable:!1})}function c(){}function u(){}function d(){}function f(){}function m(){this.dataurl_regex=/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i,this.isDataUrl=function(e){return"string"==typeof e&&!!e.match(this.dataurl_regex)}}function p(){}angular.module("opengate-angular-js",["schemaForm"]),angular.module("opengate-angular-js").run(["$templateCache",function(e){e.put("views/custom.ui.select.area.html",'<div class=form-group mass-autocomplete ng-if=$ctrl.multiple><label class=custom-ui-select-label>Area</label><ui-select custom-ui-select-config=$ctrl.ownConfig name=area ng-model=$ctrl.area theme=bootstrap title="Choose an area multi" custom-ui-select multiple=true custom-mass-autocomplete-item=$ctrl.ownConfig on-select="$ctrl.areaSelected($item, $model)" on-remove="$ctrl.areaRemove($item, $model)" ng-required=$ctrl.isRequired><ui-select-match placeholder="Choose an area multi" allow-clear=true>{{$item.identifier}}</ui-select-match><ui-select-choices repeat="area in $ctrl.ownConfig.collection | filter:$select.search track by $index"><div><span ng-bind-html="area.identifier | highlight: $select.search"></span> - <span ng-bind-html="area.name | highlight: $select.search"></span><br><span ng-bind-html="area.organization | highlight: $select.search"></span></div></ui-select-choices></ui-select></div><div class=form-group mass-autocomplete ng-if=!$ctrl.multiple><label class=custom-ui-select-label>Area</label><ui-select custom-ui-select-config=$ctrl.ownConfig name=area ng-model=$ctrl.area theme=bootstrap title="Choose an area" custom-ui-select multiple=false custom-mass-autocomplete-item=$ctrl.ownConfig on-select="$ctrl.areaSelected($item, $model)" on-remove="$ctrl.areaRemove($item, $model)" ng-required=$ctrl.isRequired><ui-select-match placeholder="Choose an area" allow-clear=true>{{$item.identifier}}</ui-select-match><ui-select-choices repeat="area in $ctrl.ownConfig.collection | filter:$select.search track by $index"><div><span ng-bind-html="area.identifier | highlight: $select.search"></span> - <span ng-bind-html="area.name | highlight: $select.search"></span><br><span ng-bind-html="area.organization | highlight: $select.search"></span></div></ui-select-choices></ui-select></div>'),e.put("views/custom.ui.select.bundle.html",'<div class=form-group mass-autocomplete ng-if=$ctrl.multiple><label class=custom-ui-select-label>Bundle</label><ui-select custom-ui-select-config=$ctrl.ownConfig name=bundle ng-model=$ctrl.bundle theme=bootstrap title="Choose an bundle multi" custom-ui-select multiple=true custom-mass-autocomplete-item=$ctrl.ownConfig on-select="$ctrl.bundleSelected($item, $model)" on-remove="$ctrl.bundleRemove($item, $model)" ng-required=$ctrl.isRequired><ui-select-match placeholder="Choose an bundle multi" allow-clear=true>{{$item.name}} (v{{$item.version}})</ui-select-match><ui-select-choices repeat="bundle in $ctrl.ownConfig.collection | filter:$select.search track by $index"><div><span ng-bind-html="bundle.name | highlight: $select.search"></span> - <span ng-bind-html="bundle.version | highlight: $select.search"></span><br><span ng-bind-html="bundle.description | highlight: $select.search"></span></div></ui-select-choices></ui-select></div><div class=form-group mass-autocomplete ng-if=!$ctrl.multiple><label class=custom-ui-select-label>Bundle</label><ui-select custom-ui-select-config=$ctrl.ownConfig name=bundle ng-model=$ctrl.bundle theme=bootstrap title="Choose an bundle" custom-ui-select multiple=false custom-mass-autocomplete-item=$ctrl.ownConfig on-select="$ctrl.bundleSelected($item, $model)" on-remove="$ctrl.bundleRemove($item, $model)" ng-required=$ctrl.isRequired><ui-select-match placeholder="Choose an bundle" allow-clear=true>{{$item.name}} (v{{$item.version}})</ui-select-match><ui-select-choices repeat="bundle in $ctrl.ownConfig.collection | filter:$select.search track by $index"><div><span ng-bind-html="bundle.name | highlight: $select.search"></span> (v<span ng-bind-html="bundle.version | highlight: $select.search"></span>)<br><span ng-bind-html="bundle.description | highlight: $select.search"></span></div></ui-select-choices></ui-select></div>'),e.put("views/custom.ui.select.datastream.html",'<div class=form-group mass-autocomplete ng-if=$ctrl.multiple><label class=custom-ui-select-label>Datastream Id</label><ui-select custom-ui-select-config=$ctrl.ownConfig name=datastream ng-model=$ctrl.datastream theme=bootstrap title="Choose a datastream" custom-ui-select multiple=true custom-mass-autocomplete-item=$ctrl.ownConfig on-select="$ctrl.datastreamSelected($item, $model)" on-remove="$ctrl.datastreamRemove($item, $model)" ng-required=$ctrl.isRequired><ui-select-match placeholder="Choose a datastream" allow-clear=true>{{$item.identifier}}</ui-select-match><ui-select-choices repeat="ds in $ctrl.ownConfig.collection | filter:$select.search track by $index"><div><span ng-bind-html="ds.identifier | highlight: $select.search"></span> - <span ng-bind-html="ds.name | highlight: $select.search"></span></div><small><div ng-if=ds.category.name>Category: <span ng-bind-html="ds.category.name | highlight: $select.search"></span></div><div ng-if=ds.feed>Feed: <span ng-bind-html="ds.feed | highlight: $select.search"></span></div><div ng-if=ds.datamodel><div>Datamodel:</div><div>- Id: <span ng-bind-html="ds.datamodel.identifier | highlight: $select.search"></span><div>- Organization: <span ng-bind-html="ds.datamodel.organization | highlight: $select.search"></span><div>- Name: <span ng-bind-html="ds.datamodel.name | highlight: $select.search"></span><div>- Description: <span ng-bind-html="ds.datamodel.description | highlight: $select.search"></span><div>- Version: <span ng-bind-html="ds.datamodel.version | highlight: $select.search"></span></div></div></div></div></div></div></small></ui-select-choices></ui-select></div><div class=form-group mass-autocomplete ng-if=!$ctrl.multiple><label class=custom-ui-select-label>Datastream Id</label><ui-select custom-ui-select-config=$ctrl.ownConfig name=datastream ng-model=$ctrl.datastream theme=bootstrap title="Choose a datastream" custom-ui-select multiple=false custom-mass-autocomplete-item=$ctrl.ownConfig on-select="$ctrl.datastreamSelected($item, $model)" on-remove="$ctrl.datastreamRemove($item, $model)" ng-required=$ctrl.isRequired><ui-select-match placeholder="Choose a datastream" allow-clear=true>{{$item.identifier}}</ui-select-match><ui-select-choices repeat="ds in $ctrl.ownConfig.collection | filter:$select.search track by $index"><div><span ng-bind-html="ds.identifier | highlight: $select.search"></span> - <span ng-bind-html="ds.name | highlight: $select.search"></span></div><small><div ng-if=ds.category.name>Category: <span ng-bind-html="ds.category.name | highlight: $select.search"></span></div><div ng-if=ds.feed>Feed: <span ng-bind-html="ds.feed | highlight: $select.search"></span></div><div ng-if=ds.datamodel><div>Datamodel:</div><div>- Id: <span ng-bind-html="ds.datamodel.identifier | highlight: $select.search"></span><div>- Organization: <span ng-bind-html="ds.datamodel.organization | highlight: $select.search"></span><div>- Name: <span ng-bind-html="ds.datamodel.name | highlight: $select.search"></span><div>- Description: <span ng-bind-html="ds.datamodel.description | highlight: $select.search"></span><div>- Version: <span ng-bind-html="ds.datamodel.version | highlight: $select.search"></span></div></div></div></div></div></div></small></ui-select-choices></ui-select></div>'),e.put("views/custom.ui.select.domain.html",'<div class=form-group mass-autocomplete ng-if=$ctrl.multiple><label for=domain class=custom-ui-select-label>Domain</label><ui-select name=domain custom-ui-select-config=$ctrl.ownConfig ng-model=$ctrl.domain theme=bootstrap title="Choose a domaion" custom-ui-select multiple=true custom-mass-autocomplete-item=$ctrl.ownConfig on-select="$ctrl.domainSelected($item, $model)" on-remove="$ctrl.domainRemove($item, $model)" ng-required=$ctrl.isRequired><ui-select-match placeholder="Choose a domain" allow-clear=true>{{$item.name}}</ui-select-match><ui-select-choices repeat="domainData in $ctrl.ownConfig.collection track by $index"><span ng-bind-html="domainData.name | highlight: $select.search"></span></ui-select-choices></ui-select></div><div class=form-group mass-autocomplete ng-if=!$ctrl.multiple><label for=domain class=custom-ui-select-label>Domain</label><ui-select custom-ui-select-config=$ctrl.ownConfig name=domain ng-model=$ctrl.domain theme=bootstrap title="Choose a domain" custom-ui-select multiple=false custom-mass-autocomplete-item=$ctrl.ownConfig on-select="$ctrl.domainSelected($item, $model)" on-remove="$ctrl.domainRemove($item, $model)" ng-required=$ctrl.isRequired><ui-select-match placeholder="Choose a domain" allow-clear=true>{{$item.name}}</ui-select-match><ui-select-choices repeat="domainData in $ctrl.ownConfig.collection track by $index"><span ng-bind-html="domainData.name | highlight: $select.search"></span></ui-select-choices></ui-select></div>'),e.put("views/custom.ui.select.entity.html",'<div class=form-group mass-autocomplete ng-if=$ctrl.multiple><label class=custom-ui-select-label>Entity Key</label><ui-select custom-ui-select-config=$ctrl.ownConfig name=entity ng-model=$ctrl.entity theme=bootstrap title="Choose a entity" custom-ui-select multiple=true custom-mass-autocomplete-item=$ctrl.ownConfig on-select="$ctrl.entitySelected($item, $model)" on-remove="$ctrl.entityRemove($item, $model)" ng-required=$ctrl.isRequired><ui-select-match placeholder="Choose a entity" allow-clear=true>{{$item.provision.administration.identifier._current.value}}</ui-select-match><ui-select-choices repeat="entityData in $ctrl.ownConfig.collection track by $index"><span ng-bind-html="entityData.provision.administration.identifier._current.value | highlight: $select.search"></span> <small><div ng-if=entityData.provision.device.specificType._current.value>Specific type: <span ng-bind-html="entityData.provision.device.specificType._current.value | highlight: $select.search"></span></div><div ng-if=entityData.provision.device.operationalStatus._current.value>Operational status: <span ng-bind-html="\'\'+entityData.provision.device.operationalStatus._current.value | highlight: $select.search"></span></div><div ng-if="!entityData.provision.device.specificType && entityData.provision.device.communicationsModule[0].subscriber.specificType._current.value">Specific type: <span ng-bind-html="entityData.provision.device.communicationsModule[0].subscriber.specificType._current.value | highlight: $select.search"></span></div><div ng-if="!entityData.provision.device.specificType && entityData.provision.device.communicationsModule[0].subscription.specificType._current.value">Specific type: <span ng-bind-html="entityData.provision.device.communicationsModule[0].subscriber.specificType._current.value | highlight: $select.search"></span></div></small></ui-select-choices></ui-select></div><div class=form-group mass-autocomplete ng-if=!$ctrl.multiple><label class=custom-ui-select-label>Entity Key</label><ui-select custom-ui-select-config=$ctrl.ownConfig name=entity ng-model=$ctrl.entity theme=bootstrap title="Choose a entity" custom-ui-select multiple=false custom-mass-autocomplete-item=$ctrl.ownConfig on-select="$ctrl.entitySelected($item, $model)" on-remove="$ctrl.entityRemove($item, $model)" ng-required=$ctrl.isRequired><ui-select-match placeholder="Choose a entity" allow-clear=true>{{$item.provision.administration.identifier._current.value}}</ui-select-match><ui-select-choices repeat="entityData in $ctrl.ownConfig.collection track by $index"><span ng-bind-html="entityData.provision.administration.identifier._current.value | highlight: $select.search"></span> <small><div ng-if=entityData.provision.device.specificType._current.value>Specific type: <span ng-bind-html="entityData.provision.device.specificType._current.value | highlight: $select.search"></span></div><div ng-if=entityData.provision.device.operationalStatus._current.value>Operational status: <span ng-bind-html="\'\'+entityData.provision.device.operationalStatus._current.value | highlight: $select.search"></span></div><div ng-if="!entityData.provision.device.specificType && entityData.provision.device.communicationsModule[0].subscriber.specificType._current.value">Specific type: <span ng-bind-html="entityData.provision.device.communicationsModule[0].subscriber.specificType._current.value | highlight: $select.search"></span></div><div ng-if="!entityData.provision.device.specificType && entityData.provision.device.communicationsModule[0].subscription.specificType._current.value">Specific type: <span ng-bind-html="entityData.provision.device.communicationsModule[0].subscriber.specificType._current.value | highlight: $select.search"></span></div></small></ui-select-choices></ui-select></div>'),e.put("views/custom.ui.select.helper.html",'<div class=form-group ng-hide=$ctrl.have_helper_keys ng-transclude=input><label for={{$ctrl.id}}>{{$ctrl.labelText}}</label> <input class=form-control name={{$ctrl.name}} type=text id={{$ctrl.id}} ng-model=$ctrl.helperModel ng-required=$ctrl.required> <span class=help-inline ng-show="!$ctrl.helperModel && $ctrl.required">{{$ctrl.labelError}}</span></div><div class=form-group ng-hide=!$ctrl.have_helper_keys><label for={{$ctrl.id}}>{{$ctrl.labelText}}</label><ui-select id={{$ctrl.id}} name={{$ctrl.name}} ng-model=$ctrl.helperModel theme=bootstrap title="Choose an option" ng-required=$ctrl.required tagging=$ctrl.helperTagTransform tagging-label=false><ui-select-match placeholder="Choose an option"><span ng-if="$select.selected && $select.selected.key !== \'image\'">{{$select.selected.value}}</span> <img ng-if="$select.selected && $select.selected.key === \'image\'" src="{{ $select.selected.value }}" style=max-height:30px;></ui-select-match><ui-select-choices repeat="parameter.value as (key, parameter) in $ctrl.$helper_keys | filter: $select.search"><span ng-bind-html="parameter.key | highlight: $select.search | humanize"></span>: <small ng-if="parameter.key !== \'image\'" ng-bind-html="parameter.value | highlight: $select.search"></small> <img ng-if="parameter.key === \'image\'" src="{{ parameter.value }}" style=max-height:30px;></ui-select-choices></ui-select><span class=help-inline ng-show="!$ctrl.helperModel && $ctrl.required">Field is required</span></div>'),e.put("views/custom.ui.select.subscriber.html",'<div class=form-group mass-autocomplete ng-if=$ctrl.multiple><label class=custom-ui-select-label>Entity Key</label><ui-select custom-ui-select-config=$ctrl.ownConfig name=entity ng-model=$ctrl.entity theme=bootstrap title="Choose a entity" custom-ui-select multiple=true custom-mass-autocomplete-item=$ctrl.ownConfig on-select="$ctrl.entitySelected($item, $model)" on-remove="$ctrl.entityRemove($item, $model)" ng-required=$ctrl.isRequired><ui-select-match placeholder="Choose a entity" allow-clear=true>{{$item.provision.subscriber.identifier._current.value}}</ui-select-match><ui-select-choices repeat="subscriberData in $ctrl.ownConfig.collection track by $index"><span ng-bind-html="subscriberData.provision.subscriber.identifier._current.value | highlight: $select.search"></span> <small><div ng-if=subscriberData.provision.subscriber.name._current.value>Name: <span ng-bind-html="\'\'+subscriberData.provision.subscriber.name._current.value | highlight: $select.search"></span></div></small></ui-select-choices></ui-select></div><div class=form-group mass-autocomplete ng-if=!$ctrl.multiple><label class=custom-ui-select-label>Entity Key</label><ui-select custom-ui-select-config=$ctrl.ownConfig name=entity ng-model=$ctrl.entity theme=bootstrap title="Choose a entity" custom-ui-select multiple=false custom-mass-autocomplete-item=$ctrl.ownConfig on-select="$ctrl.entitySelected($item, $model)" on-remove="$ctrl.entityRemove($item, $model)" ng-required=$ctrl.isRequired><ui-select-match placeholder="Choose a entity" allow-clear=true>{{$item.provision.subscriber.identifier._current.value}}</ui-select-match><ui-select-choices repeat="subscriberData in $ctrl.ownConfig.collection track by $index"><span ng-bind-html="subscriberData.provision.subscriber.identifier._current.value | highlight: $select.search"></span> <small><div ng-if=subscriberData.provision.subscriber.name._current.value>Name: <span ng-bind-html="\'\'+subscriberData.provision.subscriber.name._current.value | highlight: $select.search"></span></div><div ng-if=subscriberData.provision.subscriber.mobile.icc._current.value>Name: <span ng-bind-html="\'\'+subscriberData.provision.subscriber.mobile.icc.name._current.value | highlight: $select.search"></span></div></small></ui-select-choices></ui-select></div>'),e.put("views/custom.ui.select.subscription.html",'<div class=form-group mass-autocomplete ng-if=$ctrl.multiple><label class=custom-ui-select-label>Entity Key</label><ui-select custom-ui-select-config=$ctrl.ownConfig name=entity ng-model=$ctrl.entity theme=bootstrap title="Choose a entity" custom-ui-select multiple=true custom-mass-autocomplete-item=$ctrl.ownConfig on-select="$ctrl.entitySelected($item, $model)" on-remove="$ctrl.entityRemove($item, $model)" ng-required=$ctrl.isRequired><ui-select-match placeholder="Choose a entity" allow-clear=true>{{$item.provision.subscription.identifier._current.value}}</ui-select-match><ui-select-choices repeat="subscriptionData in $ctrl.ownConfig.collection track by $index"><span ng-bind-html="subscriptionData.provision.subscription.identifier._current.value | highlight: $select.search"></span> <small><div ng-if=subscriptionData.provision.subscription.name._current.value>Name: <span ng-bind-html="\'\'+subscriptionData.provision.subscription.name._current.value | highlight: $select.search"></span></div></small></ui-select-choices></ui-select></div><div class=form-group mass-autocomplete ng-if=!$ctrl.multiple><label class=custom-ui-select-label>Entity Key</label><ui-select custom-ui-select-config=$ctrl.ownConfig name=entity ng-model=$ctrl.entity theme=bootstrap title="Choose a entity" custom-ui-select multiple=false custom-mass-autocomplete-item=$ctrl.ownConfig on-select="$ctrl.entitySelected($item, $model)" on-remove="$ctrl.entityRemove($item, $model)" ng-required=$ctrl.isRequired><ui-select-match placeholder="Choose a entity" allow-clear=true>{{$item.provision.subscription.identifier._current.value}}</ui-select-match><ui-select-choices repeat="subscriptionData in $ctrl.ownConfig.collection track by $index"><span ng-bind-html="subscriptionData.provision.subscription.identifier._current.value | highlight: $select.search"></span> <small><div ng-if=subscriptionData.provision.subscription.name._current.value>Name: <span ng-bind-html="\'\'+subscriptionData.provision.subscription.name._current.value | highlight: $select.search"></span></div></small></ui-select-choices></ui-select></div>'),e.put("views/helper.view.html",'<div class="container col-md-12 col-xs-12" ng-transclude></div><div class="col-xs-12 col-md-12"><a class="btn btn-default btn-sm ux-txt-info pointer" ng-href ng-click=$helper.open() ng-switch=$helper.mode><span ng-switch-when=button><i ng-class=$helper.helperButton aria-hidden=true></i></span> <span ng-switch-when=title>{{$helper.helperTitle}}</span> <span ng-switch-when=title_button><i ng-class=$helper.helperButton aria-hidden=true></i>{{$helper.helperTitle}}</span> <span ng-switch-default><i ng-if="!$helper.helperTitle && !$helper.helperButton" class="fa fa-lg fa-search-plus" aria-hidden=true></i> Helper</span></a></div><script type=text/ng-template id=helper.view.modal.html><div class="modal-header"> <h4 class="modal-title">Helper</h4> </div> <div class="modal-body without-padding-top"> <uib-accordion close-others="true"> <div uib-accordion-group is-open="$ctrl.mapIsOpen" is-disabled="$ctrl.helper_exclusive ? !$ctrl.mapIsExclusive : false" class="map-option"> <div uib-accordion-heading>Map</div> <div class="row" ng-if="$ctrl.mapIsOpen"> <div class="col-xs-12"> <div class="form-group leaflet-container"> <leaflet id="map-marker" lf-center="$ctrl.map.center" event-broadcast="$ctrl.map.events" markers="$ctrl.map.markers" width="100% " height="300px"></leaflet> </div> </div> <div class="col-xs-12 text-right" ng-if="$ctrl.helper_exclusive"> <a class="top-buffer btn btn-default ux-txt-success pointer" ng-class="{\'disabled\': !$ctrl.helper_keys.map}" ng-click="$ctrl.ok(\'map\')" ng-disabled="!$ctrl.helper_keys.map"> <i class="fa fa-lg fa-files-o" aria-hidden="true"></i> </a> </div> </div> </div> <div uib-accordion-group is-open="$ctrl.entityIsOpen" is-disabled="$ctrl.helper_exclusive ? !$ctrl.entityIsExclusive: false" class="entity-option"> <div uib-accordion-heading>Entity</div> <div class="row row-eq-height"> <div class="col-xs-10"> <custom-ui-select-entity on-select-item="$ctrl.onSelectEntityKey($item, $model)" on-remove="$ctrl.onDeleteEntityKey()" entity="$ctrl.entity.selected" multiple="false"> </custom-ui-select-entity> </div> <div class="col-xs-2 vcenter" ng-if="$ctrl.helper_exclusive"> <a class="top-buffer btn btn-default ux-txt-success pointer" ng-class="{\'disabled\': !$ctrl.helper_keys.entity}" ng-click="$ctrl.ok(\'entity\')" ng-disabled="!$ctrl.helper_keys.entity"> <i class="fa fa-lg fa-files-o" aria-hidden="true"></i> </a> </div> </div> </div> <div uib-accordion-group is-open="$ctrl.subscriberIsOpen" class="subscriber-option" is-disabled="$ctrl.helper_exclusive ? (!$ctrl.entityIsExclusive && !$ctrl.subscriberIsExclusive): false"> <div uib-accordion-heading>Subscribers</div> <div class="row row-eq-height"> <div class="col-xs-10"> <custom-ui-select-subscriber on-select-item="$ctrl.onSelectSubscriberKey($item, $model)" specific-type="{{$ctrl.specific_type}}" on-remove="$ctrl.onDeleteSubscriberKey()" entity="$ctrl.subscriber.selected" multiple="false"> </custom-ui-select-subscriber> </div> <div class="col-xs-2 vcenter" ng-if="$ctrl.helper_exclusive"> <a class="top-buffer btn btn-default ux-txt-success pointer" ng-class="{\'disabled\': !$ctrl.helper_keys.subscriber}" ng-click="$ctrl.ok(\'subscriber\')" ng-disabled="!$ctrl.helper_keys.subscriber"> <i class="fa fa-lg fa-files-o" aria-hidden="true"></i> </a> </div> </div> </div> <div uib-accordion-group is-open="$ctrl.subscriptionIsOpen" class="subscription-option" is-disabled="$ctrl.helper_exclusive ? (!$ctrl.entityIsExclusive && !$ctrl.subscriptionIsExclusive): false"> <div uib-accordion-heading>Subscriptions</div> <div class="row row-eq-height"> <div class="col-xs-10"> <custom-ui-select-subscription on-select-item="$ctrl.onSelectSubscriptionKey($item, $model)" specific-type="{{$ctrl.specific_type}}" on-remove="$ctrl.onDeleteSubscriptionKey()" entity="$ctrl.subscription.selected" multiple="false"> </custom-ui-select-subscription> </div> <div class="col-xs-2 vcenter" ng-if="$ctrl.helper_exclusive"> <a class="top-buffer btn btn-default ux-txt-success pointer" ng-class="{\'disabled\': !$ctrl.helper_keys.subscription}" ng-click="$ctrl.ok(\'subscription\')" ng-disabled="!$ctrl.helper_keys.subscription"> <i class="fa fa-lg fa-files-o" aria-hidden="true"></i> </a> </div> </div> </div> <div uib-accordion-group is-open="$ctrl.datastreamIsOpen" is-disabled="$ctrl.helper_exclusive ? !$ctrl.datastreamIsExclusive: false" class="datastream-option"> <div uib-accordion-heading>Datastream</div> <div class="row row-eq-height"> <div class="col-xs-10"> <custom-ui-select-datastream on-select-item="$ctrl.onSelectDatastreamKey($item, $model)" on-remove="$ctrl.onDeleteDatastreamKey()" datastream="$ctrl.datastream.selected" multiple="false"> </custom-ui-select-datastream> </div> <div class="col-xs-2 vcenter" ng-if="$ctrl.helper_exclusive"> <a class="top-buffer btn btn-default ux-txt-success pointer" ng-class="{\'disabled\': !$ctrl.helper_keys.datastream}" ng-click="$ctrl.ok(\'datastream\')" ng-disabled="!$ctrl.helper_keys.datastream"> <i class="fa fa-lg fa-files-o" aria-hidden="true"></i> </a> </div> </div> </div> <div uib-accordion-group is-open="$ctrl.domainIsOpen" class="domain-option" is-disabled="$ctrl.helper_exclusive ? !$ctrl.domainIsExclusive: false"> <div uib-accordion-heading>Domains</div> <div class="row row-eq-height"> <div class="col-xs-10"> <custom-ui-select-domain on-select-item="$ctrl.onSelectDomainKey($item, $model)" on-remove="$ctrl.onDeleteDomainKey()" domain="$ctrl.domain.selected" multiple="false"> </custom-ui-select-domain> </div> <div class="col-xs-2 vcenter" ng-if="$ctrl.helper_exclusive"> <a class="top-buffer btn btn-default ux-txt-success pointer" ng-class="{\'disabled\': !$ctrl.helper_keys.domain}" ng-click="$ctrl.ok(\'domain\')" ng-disabled="!$ctrl.helper_keys.domain"> <i class="fa fa-lg fa-files-o" aria-hidden="true"></i> </a> </div> </div> </div> <div uib-accordion-group is-open="$ctrl.areaIsOpen" class="area-option" is-disabled="$ctrl.helper_exclusive ? !$ctrl.areaIsExclusive: false"> <div uib-accordion-heading>Areas</div> <div class="row row-eq-height"> <div class="col-xs-10"> <custom-ui-select-area on-select-item="$ctrl.onSelectAreaKey($item, $model)" on-remove="$ctrl.onDeleteAreaKey()" area="$ctrl.area.selected" organization="$ctrl.area.organization" multiple="false"> </custom-ui-select-area> </div> <div class="col-xs-2 vcenter" ng-if="$ctrl.helper_exclusive"> <a class="top-buffer btn btn-default ux-txt-success pointer" ng-class="{\'disabled\': !$ctrl.helper_keys.area}" ng-click="$ctrl.ok(\'area\')" ng-disabled="!$ctrl.helper_keys.area"> <i class="fa fa-lg fa-files-o" aria-hidden="true"></i> </a> </div> </div> </div> <div uib-accordion-group is-open="$ctrl.bundleIsOpen" class="bundle-option" is-disabled="$ctrl.helper_exclusive ? !$ctrl.bundleIsExclusive: false"> <div uib-accordion-heading>Bundles</div> <div class="row row-eq-height"> <div class="col-xs-10"> <custom-ui-select-bundle on-select-item="$ctrl.onSelectBundleKey($item, $model)" on-remove="$ctrl.onDeleteBundleKey()" bundle="$ctrl.bundle.selected" multiple="false"> </custom-ui-select-bundle> </div> <div class="col-xs-2 vcenter" ng-if="$ctrl.helper_exclusive"> <a class="top-buffer btn btn-default ux-txt-success pointer" ng-class="{\'disabled\': !$ctrl.helper_keys.bundle}" ng-click="$ctrl.ok(\'bundle\')" ng-disabled="!$ctrl.helper_keys.bundle"> <i class="fa fa-lg fa-files-o" aria-hidden="true"></i> </a> </div> </div> </div> <div uib-accordion-group is-open="$ctrl.imageIsOpen" class="image-option" is-disabled="$ctrl.helper_exclusive ? !$ctrl.imageIsExclusive: false"> <div uib-accordion-heading>Image</div> <div class="row row-eq-height"> <div class="col-xs-12 col-md-8"> <div name="image" ng-if="!$ctrl.helper_keys.image && !$ctrl.helper_keys.image.image" ngf-drop="$ctrl.imageSelected($file)" ng-model="$ctrl.image" ngf-max-size="1MB" ngf-select="$ctrl.imageSelected($file)" class="drop-box pointer" ngf-drag-over-class="\'dragover\'" ngf-multiple="false" ng-required="$ctrl.helper_keys.image" ngf-accept="\'image/*\'" ngf-pattern="\'image/*\'">Click here or drop file here <br>(max. size 1 MB)</div> <img ng-if="$ctrl.helper_keys.image && $ctrl.helper_keys.image.image" src="{{ $ctrl.helper_keys.image.image }}" style="max-height:200px;" name="image" /> </div> <div class="col-xs-12 col-md-4"> <button id="idRemoveFileLink" ng-if="$ctrl.helper_keys.image && $ctrl.helper_keys.image.image" ng-click="$ctrl.removeDataFile()" class="btn btn-warning ux-txt-warning pointer"> <i class="fa fa-trash" aria-hidden="true"></i> Remove</button> <a ng-if="$ctrl.helper_exclusive" class="top-buffer btn btn-default ux-txt-success pointer" ng-class="{\'disabled\': !$ctrl.helper_keys.bundle}" ng-click="$ctrl.ok(\'bundle\')" ng-disabled="!$ctrl.helper_keys.bundle"> <i class="fa fa-lg fa-files-o" aria-hidden="true"></i> </a> </div> </div> </div> </uib-accordion> </div> <div class="modal-footer"> <a ng-if="!$ctrl.helper_exclusive" class="top-buffer btn btn-default ux-txt-success pointer" ng-class="{\'disabled\': !$ctrl.canApply()}" ng-click="$ctrl.ok()" ng-disabled="!$ctrl.canApply()"> <i class="fa fa-lg fa-files-o" aria-hidden="true"></i> All </a> <button class="btn btn-warning" type="button" ng-click="$ctrl.cancel()">Cancel</button> </div></script>'),e.put("views/schema.form.datastream.template.html",'<div><custom-ui-select-datastream on-select-item="evalExpr(form.onselectitem, {$item: $$value$$, $model: $model})" on-remove="evalExpr(form.onremove, {$item: $$value$$, $model: $model})" datastream=$$value$$ multiple=form.multiple></custom-ui-select-datastream></div>'),e.put("views/schema.form.entity.template.html",'<div><custom-ui-select-entity on-select-item="evalExpr(form.onselectitem, {$item: $$value$$, $model: $model})" on-remove="evalExpr(form.onremove, {$item: $$value$$, $model: $model})" entity=$$value$$ multiple=form.multiple></custom-ui-select-entity></div>'),
e.put("views/schema.form.helper.template.html","<div class=\"{{form.schema?form.schema.htmlClass:''}}\"><helper-dialog helper-id={{form.helperid}} helper-exclusive={{form.exclusive}}><helper-ui-select id={{form.id}} name={{form.name}} label-text={{form.title}} sf-field-model=helper-model label-error={{form.labelerror}}><helper-ui-select-input><label for={{form.name}}>{{form.title}}</label> <input class=form-control name={{form.name}} type=text id={{form.id}} sf-field-model></helper-ui-select-input></helper-ui-select></helper-dialog></div>"),e.put("views/window-time.select.view.html",'<div class=window-time-container><button type=button class="btn btn-xs" ng-class=oneDayClass ng-click=oneDay()>Last day</button> <button type=button class="btn btn-xs" ng-class=oneWeekClass ng-click=oneWeek()>Last 7 days</button> <button type=button class="btn btn-xs" ng-class=oneMonthClass ng-click=oneMonth()>Last 30 days</button> <button type=button class="btn btn-xs" ng-class=customClass ng-click=custom()>Custom</button> <button type=button class="btn btn-xs btn-info" ng-if=customEnabled ng-disabled=!!errorCustomWindow ng-click=applyCustom()>Apply</button> <button type=button class="btn btn-xs btn-info" ng-if=filterApplied ng-click=clear()>Clear</button><div ng-if=customEnabled class=window-time-body><div class=row><div class=col-xs-12><p class=input-group><label class=control-label>From: {{fromDate | date:\'fullDate\'}}</label> <input readonly datepicker-options=fromOptions type=text class=form-control show-button-bar=false uib-datepicker-popup={{format}} ng-model=date.from is-open=fromPopup.opened ng-required=true close-text=Close ng-change=fromChange()> <span class=input-group-btn><a class="btn btn-sm" ng-click=fromOpen()><i class="glyphicon glyphicon-calendar"></i></a></span></p></div><div class=col-xs-12><div uib-timepicker max=fromMax ng-model=date.from show-meridian=false ng-change=fromChange()></div></div></div><div class=row><div class=col-xs-12><p class=input-group><label class=control-label>To: {{toDate | date:\'fullDate\'}}</label> <input readonly datepicker-options=toOptions type=text class=form-control show-button-bar=false uib-datepicker-popup={{format}} ng-model=date.to is-open=toPopup.opened ng-required=true close-text=Close ng-change=toChange()> <span class=input-group-btn><button type=button class="btn btn-sm" ng-click=toOpen()><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class=col-xs-12><div uib-timepicker max=toMax min=toMin ng-model=date.to show-meridian=false ng-change=toChange()></div></div></div><alert type=danger ng-show=errorCustomWindow class=text-danger style="display: block;text-align: center;"><span ng-bind=errorCustomWindow></span></alert></div></div>')}]),angular.module("opengate-angular-js").service("$provisionDatastreamsUtils",[function(){function e(e){return e.filter(function(e){return i.indexOf(e.identifier)===-1})}function t(){return angular.copy(r)}function a(){return angular.copy(i)}var i=["internal","provisionSubscriber","provisionGeneric","provisionDevice","provisionAsset","provisionSubscription"],r={and:[{like:{"datamodels.categories.datastreams.identifier":"^(provision.).*"}},{like:{"datamodels.categories.datastreams.identifier":"^(?!provision.administration.).*"}},{like:{"datamodels.categories.datastreams.identifier":"^(?!provision.device.).*"}},{like:{"datamodels.categories.datastreams.identifier":"^(?!provision.asset.).*"}}]};return{getCoreDatamodelsCatalog:a,filterForCoreDatamodelsCatalog:e,getFilter:t}}]),angular.module("opengate-angular-js").service("$oguxThemes",[function(){var e="light",a="orange",i=e+" "+a,r=[{name:"default"},{name:"light"}],o={red:{id:"red",sample:"#f44336",rgba:"rgba(244, 67, 54, 0.5)",name:"Red",theme:["light","default"]},pink:{id:"pink",sample:"#e91e63",rgba:"rgba(233, 30, 99, 0.5)",name:"Pink",theme:["light","default"]},purple:{id:"purple",sample:"#9c27b0",rgba:"rgba(156, 39, 176, 0.5)",name:"Purple",theme:["light"]},deeppurple:{id:"deeppurple",sample:"#673ab7",rgba:"rgba(103, 10, 183, 0.5)",name:"Deep Purple",theme:["light"]},indigo:{id:"indigo",sample:"#3f51b5",rgba:"rgba(63, 81, 181, 0.5)",name:"Indigo",theme:["light"]},blue:{id:"blue",sample:"#2196f3",rgba:"rgba(33, 150, 243, 0.5)",name:"Blue",theme:["light","default"]},lightblue:{id:"lightblue",sample:"#03a9f4",rgba:"rgba(3, 169, 244, 0.5)",name:"Light Blue",theme:["light","default"]},cyan:{id:"cyan",sample:"#00bcd4",rgba:"rgba(0, 188, 212, 0.5)",name:"Cyan",theme:["light","default"]},teal:{id:"teal",sample:"#009688",rgba:"rgba(0, 150, 136, 0.5)",name:"Teal",theme:["light","default"]},green:{id:"green",sample:"#4caf50",rgba:"rgba(76, 175, 80, 0.5)",name:"Green",theme:["light","default"]},lightgreen:{id:"lightgreen",sample:"#8bc34a",rgba:"rgba(139, 195, 74, 0.5)",name:"Light Green",theme:["light","default"]},lime:{id:"lime",sample:"#cddc39",rgba:"rgba(205, 220, 57, 0.5)",name:"Lime",theme:["default"]},yellow:{id:"yellow",sample:"#ffeb3b",rgba:"rgba(255, 235, 59, 0.5)",name:"Yellow",theme:["default"]},amber:{id:"amber",sample:"#ffc107",rgba:"rgba(255, 193, 7, 0.5)",name:"Amber",theme:["default"]},orange:{id:"orange",sample:"#ff9800",rgba:"rgba(255, 152, 0, 0.5)",name:"Orange",theme:["light","default"]},deeporange:{id:"deeporange",sample:"#ff5722",rgba:"rgba(255, 87, 34, 0.5)",name:"Deep Orange",theme:["light","default"]},brown:{id:"brown",sample:"#795548",rgba:"rgba(121, 85, 72, 0.5)",name:"Brown",theme:["light"]},grey:{id:"grey",sample:"#9e9e9e",rgba:"rgba(33, 150, 243, 1)",name:"Grey",theme:["light","default"]},bluegrey:{id:"bluegrey",sample:"#607d8b",rgba:"rgba(96, 125, 139, 0.5)",name:"Blue Grey",theme:["light","default"]},darkgrey:{id:"darkgrey",sample:"#2D2D2D",rgba:"rgba(45, 45, 45, 0.5)",name:"Dark Grey",theme:["light"]}};return{setThemeComposition:function(t){i=t;var r=i.split(" ");e=r[0],a=r[1]},colors:function(){return o},themes:function(){return r},getColorConfig:function(e){return o[e]?o[e]:t},getColorsKeys:function(){return Object.keys(o)},colorsByTheme:function(e){var t=[];return angular.forEach(o,function(a,i){a.theme.indexOf(e)!==-1&&t.push(a)}),t},getThemeFromThemeComposition:function(){return e},getColorFromThemeComposition:function(){return o[a]}}}]),angular.module("opengate-angular-js").service("$ogapi",function(){function a(){var a=t;this.api=function(){if("undefined"!=typeof a)return a;throw new Error("Must invoke create([options]) function before api() function")},this.create=function(t){return a=new e.OpenGateAPI(t)},this.release=function(){return a=t,this}}return new a}),angular.module("opengate-angular-js").service("$ogapiErrorParser",[function(){return{toString:function(e,t){var a="";if(e.data&&e.data.errors&&e.data.errors.length>0)for(var i=0;i<e.data.errors.length;i++)a+=(e.data.errors[i].message||e.data.errors[i].description)+(t?t:"\n");else if(e.data&&e.data.length>0)if(angular.isArray(e.data))for(var i=0;i<e.data.length;i++)a+=(e.data[i].message||e.data[i].description)+(t?t:"\n");else a=e.data;else a=e;return a},toStringArray:function(e){var t=[];if(e.data&&e.data.errors&&e.data.errors.length>0)for(var a=0;a<e.data.errors.length;a++)t.push(e.data.errors[a].message||e.data.errors[a].description);else if(e.data&&e.data.length>0)if(angular.isArray(e.data))for(var a=0;a<e.data.length;a++)t.push(e.data[a].message||e.data[a].description);else t.push(e.data[a]);else t.push(e.data);return t}}}]),angular.module("opengate-angular-js").service("$jsonFinderHelper",["jsonPath",function(e){return a.prototype.jsonPath=e,{administration:new a,provisioned:new r,collected:new i,subscriber:{collected:new u,provisioned:new c},subscription:{collected:new d,provisioned:new f},asset:{collected:new o,provisioned:new l},human:{collected:new n,provisioned:new s}}}]),a.prototype.getPath=function(e){if(!this.fields[e])throw new Error("Field <"+e+"> not found. Available:"+JSON.stringify(Object.keys(this.fields)));return this.fields[e].replace("[]","[*]")},a.prototype.getAmpliaPath=function(e){if(!this.fields[e])throw new Error("Field <"+e+"> not found. Available:"+JSON.stringify(Object.keys(this.fields)));return this.fields[e]},a.prototype.findOne=function(e,t){return this.findAll(e,t)[0]},a.prototype.findAll=function(e,t){return this.jsonPath(e,this.getPath(t)+"._current.value")||[]},i.prototype=new a,r.prototype=new i,r.prototype.getPath=function(e){var t=a.prototype.getPath.call(this,e);return t.startsWith("provision.")||(t="provision."+t),t},r.prototype.getAmpliaPath=function(e){var t=a.prototype.getAmpliaPath.call(this,e);return t.startsWith("provision.")||(t="provision."+t),t},u.prototype=new i,u.prototype.getPath=function(e){var t=i.prototype.getPath.call(this,e);return t.replace("device.communicationModules[*].subscriber","")},c.prototype=new r,c.prototype.getPath=function(e){var t=r.prototype.getPath.call(this,e);return t.replace("device.communicationModules[*].subscriber","")},d.prototype=new i,d.prototype.getPath=function(e){var t=i.prototype.getPath.call(this,e);return t.replace("device.communicationModules[*].subscription","")},f.prototype=new r,f.prototype.getPath=function(e){var t=r.prototype.getPath.call(this,e);return t.replace("device.communicationModules[*].subscription","")},o.prototype=new i,o.prototype.getPath=function(e){var t=i.prototype.getPath.call(this,e);return t.replace("device.","asset.")},l.prototype=new r,l.prototype.getPath=function(e){var t=r.prototype.getPath.call(this,e);return t.replace("device.","asset.")},n.prototype=new o,n.prototype.getPath=function(e){var t=o.prototype.getPath.call(this,e),a=t.replace("asset.","human.");return a.replace("device.","human.")},s.prototype=new l,s.prototype.getPath=function(e){var t=l.prototype.getPath.call(this,e),a=t.replace("asset.","human.");return a.replace("device.","human.")},angular.module("opengate-angular-js").service("$faIcons",[function(){var e=["fa-500px","fa-address-book","fa-address-book-o","fa-address-card","fa-address-card-o","fa-adjust","fa-adn","fa-align-center","fa-align-justify","fa-align-left","fa-align-right","fa-amazon","fa-ambulance","fa-american-sign-language-interpreting","fa-anchor","fa-android","fa-angellist","fa-angle-double-down","fa-angle-double-left","fa-angle-double-right","fa-angle-double-up","fa-angle-down","fa-angle-left","fa-angle-right","fa-angle-up","fa-apple","fa-archive","fa-area-chart","fa-arrow-circle-down","fa-arrow-circle-left","fa-arrow-circle-o-down","fa-arrow-circle-o-left","fa-arrow-circle-o-right","fa-arrow-circle-o-up","fa-arrow-circle-right","fa-arrow-circle-up","fa-arrow-down","fa-arrow-left","fa-arrow-right","fa-arrow-up","fa-arrows","fa-arrows-alt","fa-arrows-h","fa-arrows-v","fa-asl-interpreting","fa-assistive-listening-systems","fa-asterisk","fa-at","fa-audio-description","fa-automobile","fa-backward","fa-balance-scale","fa-ban","fa-bandcamp","fa-bank","fa-bar-chart","fa-bar-chart-o","fa-barcode","fa-bars","fa-bath","fa-bathtub","fa-battery","fa-battery-0","fa-battery-1","fa-battery-2","fa-battery-3","fa-battery-4","fa-battery-empty","fa-battery-full","fa-battery-half","fa-battery-quarter","fa-battery-three-quarters","fa-bed","fa-beer","fa-behance","fa-behance-square","fa-bell","fa-bell-o","fa-bell-slash","fa-bell-slash-o","fa-bicycle","fa-binoculars","fa-birthday-cake","fa-bitbucket","fa-bitbucket-square","fa-bitcoin","fa-black-tie","fa-blind","fa-bluetooth","fa-bluetooth-b","fa-bold","fa-bolt","fa-bomb","fa-book","fa-bookmark","fa-bookmark-o","fa-braille","fa-briefcase","fa-btc","fa-bug","fa-building","fa-building-o","fa-bullhorn","fa-bullseye","fa-bus","fa-buysellads","fa-cab","fa-calculator","fa-calendar","fa-calendar-check-o","fa-calendar-minus-o","fa-calendar-o","fa-calendar-plus-o","fa-calendar-times-o","fa-camera","fa-camera-retro","fa-car","fa-caret-down","fa-caret-left","fa-caret-right","fa-caret-square-o-down","fa-caret-square-o-left","fa-caret-square-o-right","fa-caret-square-o-up","fa-caret-up","fa-cart-arrow-down","fa-cart-plus","fa-cc","fa-cc-amex","fa-cc-diners-club","fa-cc-discover","fa-cc-jcb","fa-cc-mastercard","fa-cc-paypal","fa-cc-stripe","fa-cc-visa","fa-certificate","fa-chain","fa-chain-broken","fa-check","fa-check-circle","fa-check-circle-o","fa-check-square","fa-check-square-o","fa-chevron-circle-down","fa-chevron-circle-left","fa-chevron-circle-right","fa-chevron-circle-up","fa-chevron-down","fa-chevron-left","fa-chevron-right","fa-chevron-up","fa-child","fa-chrome","fa-circle","fa-circle-o","fa-circle-o-notch","fa-circle-thin","fa-clipboard","fa-clock-o","fa-clone","fa-close","fa-cloud","fa-cloud-download","fa-cloud-upload","fa-cny","fa-code","fa-code-fork","fa-codepen","fa-codiepie","fa-coffee","fa-cog","fa-cogs","fa-columns","fa-comment","fa-comment-o","fa-commenting","fa-commenting-o","fa-comments","fa-comments-o","fa-compass","fa-compress","fa-connectdevelop","fa-contao","fa-copy","fa-copyright","fa-creative-commons","fa-credit-card","fa-credit-card-alt","fa-crop","fa-crosshairs","fa-css3","fa-cube","fa-cubes","fa-cut","fa-cutlery","fa-dashboard","fa-dashcube","fa-database","fa-deaf","fa-deafness","fa-dedent","fa-delicious","fa-desktop","fa-deviantart","fa-diamond","fa-digg","fa-dollar","fa-dot-circle-o","fa-download","fa-dribbble","fa-drivers-license","fa-drivers-license-o","fa-dropbox","fa-drupal","fa-edge","fa-edit","fa-eercast","fa-eject","fa-ellipsis-h","fa-ellipsis-v","fa-empire","fa-envelope","fa-envelope-o","fa-envelope-open","fa-envelope-open-o","fa-envelope-square","fa-envira","fa-eraser","fa-etsy","fa-eur","fa-euro","fa-exchange","fa-exclamation","fa-exclamation-circle","fa-exclamation-triangle","fa-expand","fa-expeditedssl","fa-external-link","fa-external-link-square","fa-eye","fa-eye-slash","fa-eyedropper","fa-fa","fa-facebook","fa-facebook-f","fa-facebook-official","fa-facebook-square","fa-fast-backward","fa-fast-forward","fa-fax","fa-feed","fa-female","fa-fighter-jet","fa-file","fa-file-archive-o","fa-file-audio-o","fa-file-code-o","fa-file-excel-o","fa-file-image-o","fa-file-movie-o","fa-file-o","fa-file-pdf-o","fa-file-photo-o","fa-file-picture-o","fa-file-powerpoint-o","fa-file-sound-o","fa-file-text","fa-file-text-o","fa-file-video-o","fa-file-word-o","fa-file-zip-o","fa-files-o","fa-film","fa-filter","fa-fire","fa-fire-extinguisher","fa-firefox","fa-first-order","fa-flag","fa-flag-checkered","fa-flag-o","fa-flash","fa-flask","fa-flickr","fa-floppy-o","fa-folder","fa-folder-o","fa-folder-open","fa-folder-open-o","fa-font","fa-font-awesome","fa-fonticons","fa-fort-awesome","fa-forumbee","fa-forward","fa-foursquare","fa-free-code-camp","fa-frown-o","fa-futbol-o","fa-gamepad","fa-gavel","fa-gbp","fa-ge","fa-gear","fa-gears","fa-genderless","fa-get-pocket","fa-gg","fa-gg-circle","fa-gift","fa-git","fa-git-square","fa-github","fa-github-alt","fa-github-square","fa-gitlab","fa-gittip","fa-glass","fa-glide","fa-glide-g","fa-globe","fa-google","fa-google-plus","fa-google-plus-circle","fa-google-plus-official","fa-google-plus-square","fa-google-wallet","fa-graduation-cap","fa-gratipay","fa-grav","fa-group","fa-h-square","fa-hacker-news","fa-hand-grab-o","fa-hand-lizard-o","fa-hand-o-down","fa-hand-o-left","fa-hand-o-right","fa-hand-o-up","fa-hand-paper-o","fa-hand-peace-o","fa-hand-pointer-o","fa-hand-rock-o","fa-hand-scissors-o","fa-hand-spock-o","fa-hand-stop-o","fa-handshake-o","fa-hard-of-hearing","fa-hashtag","fa-hdd-o","fa-header","fa-headphones","fa-heart","fa-heart-o","fa-heartbeat","fa-history","fa-home","fa-hospital-o","fa-hotel","fa-hourglass","fa-hourglass-1","fa-hourglass-2","fa-hourglass-3","fa-hourglass-end","fa-hourglass-half","fa-hourglass-o","fa-hourglass-start","fa-houzz","fa-html5","fa-i-cursor","fa-id-badge","fa-id-card","fa-id-card-o","fa-ils","fa-image","fa-imdb","fa-inbox","fa-indent","fa-industry","fa-info","fa-info-circle","fa-inr","fa-instagram","fa-institution","fa-internet-explorer","fa-intersex","fa-ioxhost","fa-italic","fa-joomla","fa-jpy","fa-jsfiddle","fa-key","fa-keyboard-o","fa-krw","fa-language","fa-laptop","fa-lastfm","fa-lastfm-square","fa-leaf","fa-leanpub","fa-legal","fa-lemon-o","fa-level-down","fa-level-up","fa-life-bouy","fa-life-buoy","fa-life-ring","fa-life-saver","fa-lightbulb-o","fa-line-chart","fa-link","fa-linkedin","fa-linkedin-square","fa-linode","fa-linux","fa-list","fa-list-alt","fa-list-ol","fa-list-ul","fa-location-arrow","fa-lock","fa-long-arrow-down","fa-long-arrow-left","fa-long-arrow-right","fa-long-arrow-up","fa-low-vision","fa-magic","fa-magnet","fa-mail-forward","fa-mail-reply","fa-mail-reply-all","fa-male","fa-map","fa-map-marker","fa-map-o","fa-map-pin","fa-map-signs","fa-mars","fa-mars-double","fa-mars-stroke","fa-mars-stroke-h","fa-mars-stroke-v","fa-maxcdn","fa-meanpath","fa-medium","fa-medkit","fa-meetup","fa-meh-o","fa-mercury","fa-microchip","fa-microphone","fa-microphone-slash","fa-minus","fa-minus-circle","fa-minus-square","fa-minus-square-o","fa-mixcloud","fa-mobile","fa-mobile-phone","fa-modx","fa-money","fa-moon-o","fa-mortar-board","fa-motorcycle","fa-mouse-pointer","fa-music","fa-navicon","fa-neuter","fa-newspaper-o","fa-object-group","fa-object-ungroup","fa-odnoklassniki","fa-odnoklassniki-square","fa-opencart","fa-openid","fa-opera","fa-optin-monster","fa-outdent","fa-pagelines","fa-paint-brush","fa-paper-plane","fa-paper-plane-o","fa-paperclip","fa-paragraph","fa-paste","fa-pause","fa-pause-circle","fa-pause-circle-o","fa-paw","fa-paypal","fa-pencil","fa-pencil-square","fa-pencil-square-o","fa-percent","fa-phone","fa-phone-square","fa-photo","fa-picture-o","fa-pie-chart","fa-pied-piper","fa-pied-piper-alt","fa-pied-piper-pp","fa-pinterest","fa-pinterest-p","fa-pinterest-square","fa-plane","fa-play","fa-play-circle","fa-play-circle-o","fa-plug","fa-plus","fa-plus-circle","fa-plus-square","fa-plus-square-o","fa-podcast","fa-power-off","fa-print","fa-product-hunt","fa-puzzle-piece","fa-qq","fa-qrcode","fa-question","fa-question-circle","fa-question-circle-o","fa-quora","fa-quote-left","fa-quote-right","fa-ra","fa-random","fa-ravelry","fa-rebel","fa-recycle","fa-reddit","fa-reddit-alien","fa-reddit-square","fa-refresh","fa-registered","fa-remove","fa-renren","fa-reorder","fa-repeat","fa-reply","fa-reply-all","fa-resistance","fa-retweet","fa-rmb","fa-road","fa-rocket","fa-rotate-left","fa-rotate-right","fa-rouble","fa-rss","fa-rss-square","fa-rub","fa-ruble","fa-rupee","fa-s15","fa-safari","fa-save","fa-scissors","fa-scribd","fa-search","fa-search-minus","fa-search-plus","fa-sellsy","fa-send","fa-send-o","fa-server","fa-share","fa-share-alt","fa-share-alt-square","fa-share-square","fa-share-square-o","fa-shekel","fa-sheqel","fa-shield","fa-ship","fa-shirtsinbulk","fa-shopping-bag","fa-shopping-basket","fa-shopping-cart","fa-shower","fa-sign-in","fa-sign-language","fa-sign-out","fa-signal","fa-signing","fa-simplybuilt","fa-sitemap","fa-skyatlas","fa-skype","fa-slack","fa-sliders","fa-slideshare","fa-smile-o","fa-snapchat","fa-snapchat-ghost","fa-snapchat-square","fa-snowflake-o","fa-soccer-ball-o","fa-sort","fa-sort-alpha-asc","fa-sort-alpha-desc","fa-sort-amount-asc","fa-sort-amount-desc","fa-sort-asc","fa-sort-desc","fa-sort-down","fa-sort-numeric-asc","fa-sort-numeric-desc","fa-sort-up","fa-soundcloud","fa-space-shuttle","fa-spinner","fa-spoon","fa-spotify","fa-square","fa-square-o","fa-stack-exchange","fa-stack-overflow","fa-star","fa-star-half","fa-star-half-empty","fa-star-half-full","fa-star-half-o","fa-star-o","fa-steam","fa-steam-square","fa-step-backward","fa-step-forward","fa-stethoscope","fa-sticky-note","fa-sticky-note-o","fa-stop","fa-stop-circle","fa-stop-circle-o","fa-street-view","fa-strikethrough","fa-stumbleupon","fa-stumbleupon-circle","fa-subscript","fa-subway","fa-suitcase","fa-sun-o","fa-superpowers","fa-superscript","fa-support","fa-table","fa-tablet","fa-tachometer","fa-tag","fa-tags","fa-tasks","fa-taxi","fa-telegram","fa-television","fa-tencent-weibo","fa-terminal","fa-text-height","fa-text-width","fa-th","fa-th-large","fa-th-list","fa-themeisle","fa-thermometer","fa-thermometer-0","fa-thermometer-1","fa-thermometer-2","fa-thermometer-3","fa-thermometer-4","fa-thermometer-empty","fa-thermometer-full","fa-thermometer-half","fa-thermometer-quarter","fa-thermometer-three-quarters","fa-thumb-tack","fa-thumbs-down","fa-thumbs-o-down","fa-thumbs-o-up","fa-thumbs-up","fa-ticket","fa-times","fa-times-circle","fa-times-circle-o","fa-times-rectangle","fa-times-rectangle-o","fa-tint","fa-toggle-down","fa-toggle-left","fa-toggle-off","fa-toggle-on","fa-toggle-right","fa-toggle-up","fa-trademark","fa-train","fa-transgender","fa-transgender-alt","fa-trash","fa-trash-o","fa-tree","fa-trello","fa-tripadvisor","fa-trophy","fa-truck","fa-try","fa-tty","fa-tumblr","fa-tumblr-square","fa-turkish-lira","fa-tv","fa-twitch","fa-twitter","fa-twitter-square","fa-umbrella","fa-underline","fa-undo","fa-universal-access","fa-university","fa-unlink","fa-unlock","fa-unlock-alt","fa-unsorted","fa-upload","fa-usb","fa-usd","fa-user","fa-user-circle","fa-user-circle-o","fa-user-md","fa-user-o","fa-user-plus","fa-user-secret","fa-user-times","fa-users","fa-vcard","fa-vcard-o","fa-venus","fa-venus-double","fa-venus-mars","fa-viacoin","fa-viadeo","fa-viadeo-square","fa-video-camera","fa-vimeo","fa-vimeo-square","fa-vine","fa-vk","fa-volume-control-phone","fa-volume-down","fa-volume-off","fa-volume-up","fa-warning","fa-wechat","fa-weibo","fa-weixin","fa-whatsapp","fa-wheelchair","fa-wheelchair-alt","fa-wifi","fa-wikipedia-w","fa-window-close","fa-window-close-o","fa-window-maximize","fa-window-minimize","fa-window-restore","fa-windows","fa-won","fa-wordpress","fa-wpbeginner","fa-wpexplorer","fa-wpforms","fa-wrench","fa-xing","fa-xing-square","fa-y-combinator","fa-y-combinator-square","fa-yahoo","fa-yc","fa-yc-square","fa-yelp","fa-yen","fa-yoast","fa-youtube","fa-youtube-play","fa-youtube-square"];return{list:function(){return e},exists:function(t){return e.indexOf(t)>-1}}}]),angular.module("opengate-angular-js").factory("Filter",["$window","$sce","$q",function(e,a,i){function r(e,t){var i,r,o,n=[];if(e&&0!==e.trim().length){var s=e.toLowerCase().trim();for(i=0;i<t.length&&n.length<8;i++)r=t[i],r.toLowerCase().indexOf(s)>-1&&n.push({label:a.trustAsHtml(l(r,e)),value:r});for(i=0;i<f.length&&n.length<12;i++)o=f[i],o.toLowerCase().indexOf(s)>-1&&n.push({label:a.trustAsHtml(l(o,e)),value:o})}else{for(i=0;i<t.length&&n.length<8;i++)r=t[i],n.push({label:a.trustAsHtml(l(r,e)),value:r});for(i=0;i<f.length&&n.length<12;i++)o=f[i],n.push({label:a.trustAsHtml(l(o,e)),value:o})}return n}function o(e,a,o){var l=i.defer();return o.findFields(e).then(function(i){var o=i,n=-1;if(a.selectionStart?n=a.selectionStart-1:a.prop&&(n=a.prop("selectionStart")-1),!(n<0)){var s;if(e!==t&&""!==e){for(var c=-1;n>=0&&c===-1;n--)m.indexOf(e[n])>-1?c=n+1:0===n&&(c=n);var u=c;for(n=c;n<e.length&&u===c;n++)m.indexOf(e[n])>-1?u=n+1:n===e.length-1&&(u=n+1);s=r(e.substring(c,u),o)}else s=r();s.forEach(function(e){e.value=e.value}),l.resolve(s)}})["catch"](function(e){console.error(e),l.reject(e)}),l.promise}function l(e,t){var a=new RegExp("("+t+")","gi");return e.replace(a,'<span class="text-info">$1</span>')}function n(t){var a=i.defer(),r=a.promise,o=null,l={text:[],offsets:[],filter:{}};try{e.jsep.addBinaryOp("and",1),e.jsep.addBinaryOp("&&",1),e.jsep.addBinaryOp("||",2),e.jsep.addBinaryOp("or",2),e.jsep.addBinaryOp("in",2),e.jsep.addBinaryOp("~",6),e.jsep.addBinaryOp("=",6),e.jsep.addBinaryOp("like",6),e.jsep.addBinaryOp("gt",6),e.jsep.addBinaryOp("lte",6),e.jsep.addBinaryOp("gte",6),e.jsep.addBinaryOp("eq",6),e.jsep.addBinaryOp("neq",6),e.jsep.addBinaryOp(",",6),o=e.jsep(t),l.filter[o.operator]=[],l.filter=s(o),a.resolve(l)}catch(n){var c=n;n.description&&(c=n.description),a.reject(c)}return r}function s(e){var t,a,i={};if("BinaryExpression"===e.type&&/\eq|\neq|\like|\gt|\lt|\gte|\lte|\=|\'<'|\'>'|\~|\!/.test(e.operator)){t=u(e.left).split(".").reverse().join("."),t=t.replace(".undefined","[]"),a=e.right.name||e.right.value;var r=d(e.operator);i[r]={},i[r][t]=a}else if("BinaryExpression"===e.type&&/or|and/.test(e.operator))i[e.operator]=[],i[e.operator].push(s(e.left)),i[e.operator].push(s(e.right));else if("BinaryExpression"===e.type&&/\in/.test(e.operator)){t=u(e.left).split(".").reverse().join("."),t=t.replace(".undefined","[]");var r=d(e.operator);i[r]={};var o=c(e.right);console.log(o),i[r][t]=o}return i}function c(e){var t=[];if("Identifier"===e.type)t.push(e.name);else if("BinaryExpression"===e.type&&/\,/.test(e.operator)){var a=c(e.left),i=c(e.right);t=a.concat(i)}return t}function u(e){var t="";return"Identifier"===e.type?t=e.name:"MemberExpression"===e.type&&(t=e.property.name+"."+u(e.object)),t}function d(e){return"=="===e?"eq":"="===e?"eq":"!="===e?"neq":"~"===e?"like":">"===e?"gt":"<"===e?"lt":">="===e?"gte":"<="===e?"lte":e}var f=[],m=[" ","\n","-","!","=","~",">","<","&","or","and",")","in",",","neq","like"];return{suggest_field_delimited:function(e,t,a){var i=o(e,t,a);return i},parseQuery:function(e){var t=n(e);return t}}}]),angular.module("opengate-angular-js").service("$entityFlattenedExtractor",["$jsonFinderHelper",function(e){function t(t,a){var i=[];if(t&&t.length>0){var r={};angular.forEach(t,function(t,i){(t[e.provisioned.getAmpliaPath(a+"Identifier")]||t[e.collected.getAmpliaPath(a+"Identifier")])&&angular.forEach(t,function(e,o){o.startsWith("provision.device.communicationModules[]."+a)||o.startsWith("device.communicationModules[]."+a)?angular.forEach(e,function(e,a){e._index&&(r[i]||(r[i]={},r[i].$device=t),r[i][o]=e)}):o.startsWith("provision.administration")&&(r[i]||(r[i]={},r[i].$device=t),r[i][o]=e)})}),angular.forEach(r,function(e,t){i.push(e)})}return i}function a(e,a){var e=t(e,"subscriber");return a&&(a=e),e}function i(e,a){var e=t(e,"subscription");return a&&(a=e),e}return{extractSubscribers:a,extractSubscriptions:i}}]).service("$entityExtractor",["$q",function(e){function t(e,t){var a=[];return(e&&e.length>0||e&&e.length>0)&&angular.forEach(e,function(e,i){var r=null,o=null;e.provision.device&&e.provision.device.communicationModules&&e.provision.device.communicationModules.length>0&&angular.forEach(e.provision.device.communicationModules,function(e,a){e[t]&&(r?r.provision||(r.provision={}):r={provision:{}},r.provision[t]=e[t],r.provision[t].identifier&&(o=angular.copy(r.provision[t].identifier)))}),e.device&&e.device.communicationModules&&e.device.communicationModules.length>0&&angular.forEach(e.device.communicationModules,function(e,a){e[t]&&(r||(r={}),r[t]=e[t])}),(r[t]||r.provision[t])&&(r.$device=e,e.provision.administration&&(r.provision||(r.provision={}),r.provision.administration=e.provision.administration,o&&(r.provision.administration.identifier=o))),r&&a.push(r)}),a}function a(a,i){var r;a&&a.devices?r=t(a.devices,"subscriber"):a&&a.data&&a.data.devices&&(r=t(a.data.devices,"subscriber")),i&&angular.copy(r,i);var o={subscribers:r};return e(function(e){e(i||o)})}function i(a,i){var r;a&&a.devices?r=t(a.devices,"subscription"):a&&a.data&&a.data.devices&&(r=t(a.data.devices,"subscription")),i&&angular.copy(r,i);var o={subscriptions:r};return e(function(e){e(i||o)})}return{extractSubscribers:a,extractSubscriptions:i}}]),angular.module("opengate-angular-js").service("$dataFormatter",[function(){return new m}]),m.prototype.format=function(e){return this.isDataUrl(e)?(new p).format(e):e},p.prototype=new m,p.prototype.format=function(e){return'<img alt="image" class="datastreamImage" src="'+e+'"/>'},angular.module("opengate-angular-js").filter("humanize",["$window",function(e){function t(e){return/\d/.test(e)}return function(a,i,r){var o=a;return e.S(o).indexOf("$")!==-1&&(o=e.S(o).strip("$").s),angular.isString(o)&&!t(o)&&(o=e.S(o).humanize().s),o}}]).filter("communicationsInterface",function(){return function(e){var t=e;switch(t){case"COMMUNICATIONS_MODULE":return"Communications module";case"SUBSCRIPTION":return"Mobile line";case"SUBSCRIBER":return"SIM";case"HOME_OPERATOR":return"Home Operator";case"REGISTER_OPERATOR":return"Register Operator";case"ADDRESS":return"IP";case"SOFTWARE":return"Software";case"HARDWARE":return"Hardware";case"entityKey":return"Identifier";default:return t}}}).filter("dateNames",function(){var e={MON:"Monday",TUE:"Tuesday",WED:"Wednesday",THU:"Thursday",FRI:"Friday",SAT:"Saturday",SUN:"Sunday"},t={JAN:"January",FEB:"February",MAR:"March",APR:"April",MAY:"May",JUN:"June",JUL:"July",AUG:"August",SEP:"September",OCT:"October",NOV:"November",DEC:"December"};return function(a){return e[a]||t[a]||a}}).filter("icons",function(){return function(e,t,a){var i="fa fa-info";return"list"===e&&(i="fa fa-list"),"ban"===e&&(i="fa fa-ban"),"laptop"===e&&(i="fa fa-laptop"),"spin"===e&&(i="fa fa-spinner fa-spin"),"unit"===e&&(i="fa fa-plus-square"),"tags"===e&&(i="fa fa-tags"),i}}).filter("codeErrors",function(){var e={1004:"At least one valid reference to an entity is required",1005:"At least one valid reference to an entity is required",1017:"Tag is not valid. Please, check it."};return function(t){return{code:t.code,message:e[t.code]||t.message}}}).filter("wapiErrors",function(){var e={"-1":"Connection problems",413:"Upload size exceeded"};return function(t,a){var i="";return i=angular.isUndefined(a)?e[t]?e[t]:"Code: "+t:a+" ("+(e[t]?e[t]:"Code: "+t)+")"}}).filter("textlength",function(){return function(e,t){var a=30;return t&&angular.isNumber(t)&&(a=t),e&&e.length>a?e.substring(0,a)+"...":e}}).filter("compactid",function(){return function(e){return e&&e.indexOf(".")>-1?e.substring(e.lastIndexOf(".")+1):e}}),angular.module("opengate-angular-js").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider","sfBuilderProvider",function(e,t,a,i){var r=function(t,i,r){if("string"===i.type&&"helperdialog"==i.format){var o=e.stdFormObj(t,i,r);return o.key=r.path,o.type="helperdialog",r.lookup[a.stringify(r.path)]=o,o}};e.defaults.string.unshift(r),t.defineAddOn("bootstrapDecorator","helperdialog","views/schema.form.helper.template.html",i.stdBuilders);var o=function(t,i,r){if("string"===i.type&&"customuiselect"==i.format){var o=e.stdFormObj(t,i,r);return o.key=r.path,o.type=i.properties&&i.properties.type?i.properties.type:"string",r.lookup[a.stringify(r.path)]=o,o}};e.defaults.string.unshift(o),t.defineAddOn("bootstrapDecorator","entity","views/schema.form.entity.template.html",i.stdBuilders),t.defineAddOn("bootstrapDecorator","datastream","views/schema.form.datastream.template.html",i.stdBuilders)}]),angular.module("opengate-angular-js").directive("windowTimeSelect",function(){return{restrict:"AE",templateUrl:"views/window-time.select.view.html",scope:{event:"@",rawdate:"@"},controller:["$scope","$element","$attrs",function(a,i,r){function o(){return e.moment(a.date.from).add(1,"hours")._d}function l(){return e.moment(a.date.to).subtract(1,"minutes")._d}function n(){return e.moment(a.date.to).subtract(1,"months")._d}function s(e){a.date||(a.date={}),a.date.to=e,a.toMax=e,a.toOptions={startingDay:1,showWeeks:!1,maxDate:e}}function c(){a.date.from=n(a.date.to),a.fromOptions={startingDay:1,showWeeks:!1,maxDate:l(a.date.to)},a.toOptions.minDate=o(),a.toMin=o(),a.fromMax=l(a.date.to)}function u(t){var a=e.moment().subtract(1,t);return{from:a._d,type:t}}a.oneDayClass=a.oneWeekClass=a.oneMonthClass=a.customClass="btn-info",a.filterApplied=!1,a.format="dd MMMM yyyy",a.clear=function(){a.oneDayClass=a.oneWeekClass=a.oneMonthClass=a.customClass="btn-info",a.filterApplied=!1,a.customEnabled=!1,a.$emit("onWindowTimeChanged",{})},a.fromOpen=function(){a.fromPopup.opened=!0},a.fromPopup={opened:!1},a.toOpen=function(){a.toPopup.opened=!0},a.toPopup={opened:!1},a.custom=function(){a.customEnabled=!a.customEnabled},a.apply=function(t,i){if(a.filterApplied=!0,a.customEnabled=!1,!e.eval(a.rawdate)){for(var r in t)"type"!==r&&"rawdate"!==r&&(t[r]=e.moment(t[r]).format());t.rawdate=!1}i&&a.$emit("onWindowTimeChanged",t)},a.oneDay=function(e){a.oneDayClass="btn-success",a.oneWeekClass=a.oneMonthClass=a.customClass="btn-info",a.apply(u("days"),!e)},a.oneWeek=function(e){a.oneWeekClass="btn-success",
a.oneDayClass=a.oneMonthClass=a.customClass="btn-info",a.apply(u("weeks"),!e)},a.oneMonth=function(e){a.oneMonthClass="btn-success",a.oneWeekClass=a.oneDayClass=a.customClass="btn-info",a.apply(u("months"),!e)},a.applyCustom=function(e){a.customClass="btn-success",a.oneWeekClass=a.oneDayClass=a.oneMonthClass="btn-info",a.apply({type:"custom",to:a.date.to,from:a.date.from},!e)},a.init=function(){function i(){e.moment(a.date.to).diff(a.date.from)<=0?a.errorCustomWindow="From date("+a.date.from.toISOString()+") is bigger than to date("+a.date.to.toISOString()+")":a.errorCustomWindow=t}if(s(new Date),c(),a.toChange=function(){i(),a.fromOptions={maxDate:l(a.date.to)},a.fromMax=l(a.date.to)},a.fromChange=function(){i(),a.toOptions.minDate=o(),a.toMin=o()},a.$parent.config&&a.$parent.config.windowFilter){var r=a.$parent.config.windowFilter;switch(e.eval(a.rawdate)||(a.$parent.config.windowFilter.rawdate=!1),r.type){case"days":a.oneDay(!0);break;case"weeks":a.oneWeek(!0);break;case"months":a.oneMonth(!0);break;case"custom":r.to&&r.from&&(a.date.to=new Date(r.to),a.date.from=new Date(r.from)),a.applyCustom(!0)}}},a.init()}]}}),angular.module("opengate-angular-js").directive("showErrors",["$timeout","$interpolate",function(e,t){var a=function(a,i,r,o){var l,n,s,c,u,d,f=!1,m=!1;if(c=a.$eval(r.showErrors)||{},u=c.showSuccess||!1,l=i[0].querySelector(".form-control[name]")||i[0].querySelector("[name]"),s=angular.element(l),n=t(s.attr("name")||"")(a),!n)throw"show-errors element has no child input elements with a 'name' attribute class";var p=function(){return e(function(){i.removeClass("has-error"),i.removeClass("has-success"),m=!1},0,!1)};a.$watch(function(){return o[n]&&o[n].$invalid},function(e){return d(e)}),a.$on("show-errors-check-validity",function(e,t){if(angular.isUndefined(t)||o.$name===t)return f=!0,m=!0,d(o[n].$invalid)}),a.$on("show-errors-reset",function(e,t){if(angular.isUndefined(t)||o.$name===t)return p()}),d=function(e){if(i.toggleClass("has-error",m&&e),u)return i.toggleClass("has-success",m&&!e)}};return{restrict:"A",require:"^form",compile:function(e,t){if(t.showErrors.indexOf("skipFormGroupCheck")===-1&&!e.hasClass("form-group")&&!e.hasClass("input-group"))throw"show-errors element does not have the 'form-group' or 'input-group' class";return a}}}]),angular.module("opengate-angular-js").directive("elemReady",["$parse",function(e){return{restrict:"A",link:function(t,a,i){a.ready(function(){t.$apply(function(){var a=e(i.elemReady);a(t)})})}}}]),angular.module("opengate-angular-js").directive("disallowSpaces",function(){return{restrict:"A",link:function(t,a){a.bind("input",function(){e.$(this).val(e.$(this).val().replace(/ /g,""))})}}}),angular.module("opengate-angular-js").directive("customUiSelect",["$compile","Filter",function(e,t){var a=angular.element('<div title="Toggle Advanced/Basic filter search" ng-click="complex()" style="cursor:pointer" class="custom-ui-select-button input-group-addon"><i class="fa fa-filter"></i><i class="filter-icon fa fa-bold text-muted"></i></div>'),i=angular.element('<div class="custom-ui-select-container input-group"></div>'),r=angular.element('<style title="custom-ui-select-no-multiple">.custom-ui-select-no-multiple .ui-select-search[placeholder=""]{display:none}</style>'),o=function(e,t){var a=e.querySelectorAll("ui-select-choices");a.attr("refresh",t),a.attr("refresh-delay","0")};return{require:"uiSelect",scope:!0,bindToController:!0,controller:["$scope","$element","$attrs","$q","$timeout",function(e,a,i,r,o){function l(e){if(u.prefilter){var t={and:[]};return t.and.push(u.prefilter),t.and.push(e),t}return e}function n(){var t=i.customUiSelectConfig.split(".");if(1===t.length)return e[i.customUiSelectConfig];var a=e;return t.forEach(function(e){a=a[e]}),a}function s(e,t,a,i){d&&clearTimeout(d),d=setTimeout(function(){c(e,t,a,i)},500)}function c(t,a,r,o){f&&angular.equals(f,o)||(f=angular.copy(o),i.$$button.querySelectorAll(".filter-icon").removeClass("fa-bold").removeClass("fa-font").addClass("fa-spinner").addClass("fa-spin"),t.limit(1e3).filter(o).build().execute().then(function(t){if(e._complex?i.$$button.querySelectorAll(".filter-icon").removeClass("fa-spinner").removeClass("fa-spin").addClass("fa-font"):i.$$button.querySelectorAll(".filter-icon").removeClass("fa-spinner").removeClass("fa-spin").addClass("fa-bold"),200===t.statusCode){var o=t.data[r];if(angular.isFunction(u.processingData))u.processingData(t,o).then(function(e){var t=[];angular.isArray(e)?angular.copy(e,t):angular.forEach(e,function(e,a){t.push(e)}),angular.copy(t,a)});else{var l=[];angular.isArray(o)?angular.copy(o,l):angular.forEach(o,function(e,t){l.push(e)}),angular.copy(l,a)}}else a.splice(0,a.length),204!==t.statusCode?console.error(JSON.stringify(t)):console.log(JSON.stringify(t));e.$apply()})["catch"](function(e){i.$$button.querySelectorAll(".filter-icon").removeClass("fa-spinner").removeClass("fa-spin").addClass("fa-filter")}))}var u=n();e.complexfilter=function(e){t.parseQuery(e||"").then(function(e){var t=e.filter;Object.keys(t).length>0?(s(u.builder,u.collection,u.rootKey,l(t)),console.log("Final filter: "+t)):u.collection.splice(0,u.collection.length)})["catch"](function(e){u.collection.splice(0,u.collection.length)})},e.asyncfilter=function(e){s(u.builder,u.collection,u.rootKey,l(u.filter(e)))},e._complex=i.$$button.querySelectorAll(".fa-filter").hasClass("text-primary"),e.complex=function(){e._complex=!e._complex,e._complex?(a.css("display","").removeClass("custom-ui-select-hide"),i.$$cloneElement.css("display","none").addClass("custom-ui-select-hide"),i.$$button.querySelectorAll(".filter-icon").removeClass("fa-bold").removeClass("text-muted").addClass("fa-font").addClass("text-primary")):(a.css("display","none").addClass("custom-ui-select-hide"),i.$$cloneElement.css("display","").removeClass("custom-ui-select-hide"),i.$$button.querySelectorAll(".filter-icon").removeClass("fa-font").addClass("text-muted").addClass("fa-bold").removeClass("text-primary"))},e.customUiTagTransform=function(e){return null};var d=null,f=null}],compile:function(l,n){n.$$button=a.clone(),n.$$container=i.clone();var s="true"!==n.multiple,c=n.tagging;console.log("isSimple: "+s),s&&(l.attr("limit","1"),n.limit="1",n.searchEnabled="!$select.selected || $select.selected.length === 0",l.attr("search-enabled","!$select.selected || $select.selected.length === 0"),l.addClass("custom-ui-select-no-multiple"),n.$$style=r.clone()),c&&0!==c.trim().length||(l.attr("tagging","customUiTagTransform"),n.tagging="customUiTagTransform");var u="asyncfilter($select.search);",d="complexfilter($select.search);";if(n.customMassAutocompleteItem){o(l,d);var f=angular.element(l.clone());f.removeAttr("custom-ui-select"),o(f,u),n.$$templateElement=f}else o(l,u);return function(a,i,r,o){function l(){var e=r.customMassAutocompleteItem.split(".");if(1===e.length)return a[r.customMassAutocompleteItem];var t=a;return e.forEach(function(e){t=t[e]}),t}var n="mass-autocomplete-ui-select",s="async-ui-select",c=angular.element("html head");if(r.$$style&&0===c.find('style[title="custom-ui-select-no-multiple"]').length&&c.append(r.$$style),r.customMassAutocompleteItem){i.addClass(n);var u=l();u.suggest||(u.suggest=t.suggest_field_delimited);var d=i.querySelectorAll("input.ui-select-search");d.attr("mass-autocomplete-item",r.customMassAutocompleteItem),e(d)(a),r.$$container.empty(),i.before(r.$$container),i.detach(),r.$$container.append(i);var f=r.$$templateElement.clone(),m=e(f)(a,function(e,t){r.$$container.append(e)});m.addClass(s),r.$$cloneElement=m,e(r.$$button)(a),r.$$container.append(r.$$button),i.css("display","none").addClass("custom-ui-select-hide");var p=[];r.$$container.bind("keydown",function(e){p.push(e.keyCode)}),r.$$container.bind("keyup",function(e){p.length>0&&(angular.equals(p,[17,18,70])&&a.complex(),p.splice(0,p.length))})}else i.addClass(s)}}}}]);var h=angular.module("opengate-angular-js");h.controller("helperDialogController",["$scope","$element","$attrs","$uibModal",function(e,t,a,i){var r=this,o=angular.element('<style title="helper-dialog-style">helper-dialog .row-eq-height,.helper-dialog .row-eq-height {display: -webkit-box;display: -webkit-flex;display: -ms-flexbox;display: flex;}helper-dialog .vcenter,.helper-dialog .vcenter {display: -webkit-box;display: -webkit-flex;display: -ms-flexbox;display: flex;flex-direction: column;justify-content: center;}.helper-dialog .top-buffer {margin-top: 25px;}.helper-dialog .custom-ui-select-label {display: none;}.helper-dialog .without-padding-top .form-group {margin-top: 0 !important;}.helper-dialog .without-padding-top.modal-body h4 {padding-bottom: 0px;}</style>'),l=angular.element("html head");0===l.find('style[title="helper-dialog-style"]').length&&l.append(o),r.mode="default",r.helperTitle?(r.mode="title",r.helperButton&&(r.mode="title_button")):r.helperButton&&(r.mode="button"),r.open=function(){var e=i.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"helper.view.modal.html",controller:"helperDialogModalController",controllerAs:"$ctrl",windowClass:"helper-dialog",resolve:{helper_id:function(){return r.componentsIds&&1===r.componentsIds.length?r.componentsIds[0]:r.helperId},helper_exclusive:function(){return"true"===r.helperExclusive},specific_type:function(){return r.specificType},helper_extra:function(){return r.helperExtra},helper_selected:function(){return r.helperExtra&&r.helperExtra.selected?r.helperExtra.selected:r.selected}}});e.result.then(function(e){e?(r.selected=angular.fromJson(e),r.onCopy&&r.onCopy({$helper_keys:e}),r.onMulti&&angular.isArray(r.onMulti)&&angular.forEach(r.onMulti,function(t,a){angular.isFunction(t)&&t({$helper_keys:e})})):console.warn("Nothing selected on modal")},function(){})}}]),h.controller("helperDialogModalController",["$scope","$uibModalInstance","helper_id","helper_exclusive","specific_type","helper_extra","helper_selected","Upload",function(e,t,a,i,r,o,l,n){function s(e,t,a){c.helper_keys.map={latitude:e,longitude:t,zoom:a}}var c=this;if(c.helper_extra=o,a){var u=/(\w|0-9)+/g;a=u.exec(a.toLowerCase())[0],c.helper_id=a,c[a+"IsOpen"]=!0,c[a+"IsExclusive"]=c.helper_exclusive=i}c.helper_keys={},c.specific_type=r;var d=[];if(c.map={center:{lat:l&&l.latitude?l.latitude:40.095,lng:l&&l.longitude?l.longitude:-3.823,zoom:l&&l.zoom?l.zoom:4},markers:{},events:{markers:{enable:["dragend","click"],logic:"emit"},map:{enable:["click"],logic:"emit"}}},l&&l.latitude&&(c.map.markers={marker:{lat:l.latitude,lng:l.longitude,draggable:!0,focus:!0,message:"Drag me to move. Click me to remove"}},s(l.latitude,l.longitude,l.zoom)),o){if(o.map){var f={marker:{draggable:!0,focus:!0,message:"Drag me to move. Click me to remove"}};c.map=_.merge(c.map,o.map,f)}o.area&&(c.area=o.area)}d.push(e.$on("leafletDirectiveMarker.map-marker.click",function(e,t){delete c.helper_keys.map,c.map.markers={}}),e.$on("leafletDirectiveMap.map-marker.click",function(e,t){var a=t.leafletEvent.latlng;c.map.markers={marker:{lat:a.lat,lng:a.lng,draggable:!0,focus:!0,message:"Drag me to move. Click me to remove"}},s(a.lat,a.lng,t.leafletObject._zoom)}),e.$on("leafletDirectiveMarker.map-marker.dragend",function(e,t){var a=t.leafletEvent.target._leaflet_events.dragend[0].context._latlng;s(a.lat,a.lng,t.leafletObject._zoom)})),c.domain={},l&&l.name&&(c.helper_keys.domain={name:l.name},c.datastream={selected:[{name:l.name}]}),c.onSelectDomainKey=function(e,t){c.helper_keys.domain={name:e.name}},c.onDeleteDomainKey=function(){delete c.helper_keys.name},c.datastream={},l&&l.datastreamId&&(c.helper_keys.datastream={datastreamId:l.datastreamId},c.datastream={selected:[{identifier:l.datastreamId}]}),c.onSelectDatastreamKey=function(e,t){c.helper_keys.datastream={datastreamId:e.identifier}},c.onDeleteDatastreamKey=function(){delete c.helper_keys.datastream},c.entity={},l&&l.entityKey&&(c.helper_keys.entity={entityKey:l.entityKey},c.entity={selected:[{provision:{administration:{identifier:{_current:{value:l.entityKey}}}}}]}),c.onSelectEntityKey=function(e,t){c.helper_keys.entity={entityKey:e.provision.administration.identifier._current.value}},c.onDeleteEntityKey=function(){delete c.helper_keys.entity},c.subscriber={},l&&l.subscriberKey&&(c.helper_keys.subscriberKey={subscriberKey:l.subscriberKey},c.subscriber={selected:[{provision:{subscriber:{identifier:{_current:{value:l.subscriberKey}}}}}]}),c.onSelectSubscriberKey=function(e,t){c.helper_keys.subscriber=e},c.onDeleteSubscriberKey=function(){delete c.helper_keys.subscriber},c.subscription={},l&&l.subscriptionKey&&(c.helper_keys.subscriptionKey={subscriptionKey:l.subscriptionKey},c.subscription={selected:[{provision:{subscription:{identifier:{_current:{value:l.subscriptionKey}}}}}]}),c.onSelectSubscriptionKey=function(e,t){c.helper_keys.subscription=e},c.onDeleteSubscriptionKey=function(){delete c.helper_keys.subscription},c.area?delete c.area.selected:c.area={},l&&l.area&&(c.helper_keys.area={area:l.area},c.area.selected=[{identifier:l.area}]),c.onSelectAreaKey=function(e,t){c.helper_keys.area={area:e.identifier}},c.onDeleteAreaKey=function(){delete c.helper_keys.area},c.canApply=function(){return Object.keys(c.helper_keys).length>0},c.bundle?delete c.bundle.selected:c.bundle={},l&&l.bundle&&(c.helper_keys.bundle={bundle:l.bundle},c.bundle.selected=[{id:l.bundle}]),c.onSelectBundleKey=function(e,t){c.helper_keys.bundle={bundleId:e.id,bundleName:e.name,bundleVersion:e.version}},c.onDeleteBundleKey=function(){delete c.helper_keys.bundle},l&&l.image&&(c.helper_keys.image={image:l.image}),c.imageSelected=function(e){e?n.base64DataUrl(e).then(function(e){c.helper_keys.image={image:e}}):c.removeDataFile()},c.removeDataFile=function(){delete c.helper_keys.image},c.canApply=function(){return Object.keys(c.helper_keys).length>0},c.ok=function(e){if(e)t.close(c.helper_keys[e]);else{var a={};angular.forEach(c.helper_keys,function(e,t){if("subscriber"===t.trim().toLowerCase()||"subscription"===t.trim().toLowerCase()){var i=e.provision[t.trim().toLowerCase()].identifier._current.value;a[t.trim().toLowerCase()+"Key"]=i}else angular.forEach(e,function(e,t){a[t]=e})}),t.close(a)}},c.cancel=function(){t.dismiss("cancel")},e.$on("destroy",function(){for(var e in d)e()})}]),h.component("helperDialog",{transclude:!0,templateUrl:"views/helper.view.html",controller:"helperDialogController",controllerAs:"$helper",bindings:{onCopy:"&",helperId:"@",specificType:"@",helperButton:"@",helperTitle:"@",helperExclusive:"@",helperExtra:"<",modalTemplate:"@",modalController:"@",onMulti:"<"}}),angular.module("opengate-angular-js").controller("customUiSelectSubscriptionController",["$scope","$element","$attrs","$api","$entityExtractor",function(e,t,a,i,r){var o=this;o.ownConfig={builder:i().subscriptionsSearchBuilder().provisioned(),filter:function(e){var t={or:[{like:{"provision.device.communicationModules[].subscription.identifier":e}},{like:{"device.communicationModules[].subscription.identifier":e}}]};return o.specificType&&(t={and:[t,{or:[{eq:{"device.communicationModules[].subscription.specificType":o.specificType}},{eq:{"provision.device.communicationModules[].subscription.specificType":o.specificType}}]}]}),t},rootKey:"devices",collection:[],customSelectors:i().subscriptionsSearchBuilder().provisioned(),processingData:r.extractSubscriptions},o.entitySelected=function(e,t){var a={};a.$item=e,a.$model=t,o.onSelectItem(a)},o.entityRemove=function(e,t){o.onRemove(e,t)}}]),angular.module("opengate-angular-js").component("customUiSelectSubscription",{templateUrl:"views/custom.ui.select.subscription.html",controller:"customUiSelectSubscriptionController",bindings:{onSelectItem:"&",onRemove:"&",entity:"=",specificType:"@",multiple:"<",isRequired:"="}}),angular.module("opengate-angular-js").controller("customUiSelectSubscriberController",["$scope","$element","$attrs","$api","$entityExtractor",function(e,t,a,i,r){var o=this;o.ownConfig={builder:i().subscribersSearchBuilder().provisioned(),filter:function(e){var t={or:[{like:{"provision.device.communicationModules[].subscriber.identifier":e}},{like:{"device.communicationModules[].subscriber.identifier":e}},{like:{"provision.device.communicationModules[].subscriber.mobile.icc":e}}]};return o.specificType&&(t={and:[t,{or:[{eq:{"device.communicationModules[].subscriber.specificType":o.specificType}},{eq:{"provision.device.communicationModules[].subscriber.specificType":o.specificType}}]}]}),t},rootKey:"devices",collection:[],customSelectors:i().subscribersSearchBuilder().provisioned(),processingData:r.extractSubscribers},o.entitySelected=function(e,t){var a={};a.$item=e,a.$model=t,o.onSelectItem(a)},o.entityRemove=function(e,t){o.onRemove(e,t)}}]),angular.module("opengate-angular-js").component("customUiSelectSubscriber",{templateUrl:"views/custom.ui.select.subscriber.html",controller:"customUiSelectSubscriberController",bindings:{onSelectItem:"&",onRemove:"&",entity:"=",specificType:"@",multiple:"<",isRequired:"="}}),angular.module("opengate-angular-js").controller("customUiSelectProvisionDatastreamController",["$scope","$element","$attrs","$api","$q","$http","$provisionDatastreamsUtils",function(e,t,a,i,r,o,l){var n=this;n.ownConfig={builder:i().datamodelsSearchBuilder(),filter:function(e){n.lastSearch=e;var t=l.getFilter();if(n.allowedResourceTypes){var a=n.allowedResourceTypes.replace("s*,s*",",").split(",");t.and.push({"in":{"datamodels.allowedResourceTypes":a}})}if(e){var i={or:[{like:{"datamodels.categories.datastreams.identifier":e}},{like:{"datamodels.categories.datastreams.name":e}}]};t.and.push(i)}return t},rootKey:"datamodels",collection:[],processingData:function(e,t){return r(function(a){var i=[],r=e.data.datamodels;r=l.filterForCoreDatamodelsCatalog(r),angular.forEach(r,function(e,t){var a=e.categories,r={identifier:e.identifier,description:e.description,name:e.name,organization:e.organizationName};angular.forEach(a,function(e,t){var a=e.datastreams,o={identifier:e.identifier};angular.forEach(a.filter(function(e){return e.identifier.indexOf(n.lastSearch)>-1&&!!n.lastSearch.length||!n.lastSearch}),function(e,t){var a=angular.copy(e);a.datamodel=r,a.category=o,i.push(a)})})}),angular.copy(i,t),a(t)})},customSelectors:i().datamodelsSearchBuilder()},n.datastreamSelected=function(e,t){var a={};a.$item=e,a.$model=t,n.onSelectItem(a)},n.datastreamRemove=function(e,t){var a={};a.$item=e,a.$model=t,n.onRemove(a)}}]),angular.module("opengate-angular-js").component("customUiSelectProvisionDatastream",{templateUrl:"views/custom.ui.select.datastream.html",controller:"customUiSelectProvisionDatastreamController",bindings:{onSelectItem:"&",onRemove:"&",datastream:"=",multiple:"<",isRequired:"=",allowedResourceTypes:"="}}),angular.module("opengate-angular-js").controller("helperUiSelectController",["$scope","$element","$attrs",function(e,t,a){var i=this;i.$helper_keys={},i.labelError=i.labelError?i.labelError:"Parameter is required",i.labelText=i.labelText?i.labelText:"Parameter",i.helperTagTransform=function(e){return{key:"custom",value:e}},i._onCopy=function(e){i.$helper_keys=e.$helper_keys,i.have_helper_keys=!0,i.helperModel&&i.helperModel.length>0&&(i.$helper_keys["'"+i.labelText+"' default"]=i.helperModel)},i.$onChanges=function(e){e&&e.selectedKeys&&e.selectedKeys.currentValue&&(Object.keys(e.selectedKeys.currentValue).length>0?(i.$helper_keys=e.selectedKeys.currentValue,i.have_helper_keys=!0):(i.$helper_keys={},i.have_helper_keys=!1))},i.$onInit=function(){i.helperCtrl.onMulti||(i.helperCtrl.onMulti=[]),i.helperCtrl.onMulti.push(i._onCopy),i.helperCtrl.componentsIds||(i.helperCtrl.componentsIds=[]),i.helperCtrl.componentsIds.push(i.labelText),i.have_helper_keys=!1}}]),angular.module("opengate-angular-js").component("helperUiSelect",{templateUrl:"views/custom.ui.select.helper.html",transclude:{input:"?helperUiSelectInput"},require:{helperCtrl:"^^helperDialog"},controller:"helperUiSelectController",bindings:{id:"@",name:"@",labelText:"@",helperModel:"=",required:"=",multiple:"<",labelError:"@",selectedKeys:"<"}}),angular.module("opengate-angular-js").controller("customUiSelectEntityController",["$scope","$element","$attrs","$api",function(e,t,a,i){var r=this;r.ownConfig={builder:i().devicesSearchBuilder(),filter:function(e){return{or:[{like:{"provision.administration.identifier":e}},{like:{"provision.device.specificType":e}},{like:{"device.specificType":e}}]}},rootKey:"devices",collection:[],customSelectors:i().devicesSearchBuilder()},r.entitySelected=function(e,t){var a={};a.$item=e,a.$model=t,r.onSelectItem(a)},r.entityRemove=function(e,t){r.onRemove(e,t)}}]),angular.module("opengate-angular-js").component("customUiSelectEntity",{templateUrl:"views/custom.ui.select.entity.html",controller:"customUiSelectEntityController",bindings:{onSelectItem:"&",onRemove:"&",entity:"=",multiple:"<",isRequired:"="}}),angular.module("opengate-angular-js").controller("customUiSelectDomainController",["$scope","$element","$attrs","$api",function(e,t,a,i){var r=this;r.ownConfig={builder:i().domainsSearchBuilder(),rootKey:"domains",collection:[],filter:function(e){return{or:[{like:{"domain.name":e}},{like:{"domain.description":e}}]}},customSelectors:i().domainsSearchBuilder()},r.domainSelected=function(e,t){var a={};a.$item=e,a.$model=t,r.onSelectItem(a)},r.domainRemove=function(e,t){r.onRemove(e,t)}}]),angular.module("opengate-angular-js").component("customUiSelectDomain",{templateUrl:"views/custom.ui.select.domain.html",controller:"customUiSelectDomainController",bindings:{onSelectItem:"&",onRemove:"&",domain:"=",multiple:"<",isRequired:"="}}),angular.module("opengate-angular-js").controller("customUiSelectDatastreamController",["$scope","$element","$attrs","$api","$q",function(e,t,a,i,r){var o=this;o.ownConfig={builder:i().datamodelsSearchBuilder(),filter:function(e){return o.lastSearch=e,e?{or:[{like:{"datamodels.categories.datastreams.name":e}}]}:{}},rootKey:"datamodels",collection:[],processingData:function(e,t){return r(function(a){var i=[],r=e.data.datamodels;angular.forEach(r,function(e,t){var a=e.categories,r={identifier:e.identifier,description:e.description,name:e.name,organization:e.organizationName};angular.forEach(a,function(e,t){var a=e.datastreams,l={identifier:e.identifier};angular.forEach(a.filter(function(e){return e.identifier.toLowerCase().indexOf(o.lastSearch.toLowerCase())>-1&&!!o.lastSearch.length||!o.lastSearch}),function(e,t){var a=angular.copy(e);a.datamodel=r,a.category=l,i.push(a)})})}),angular.copy(i,t),a(t)})},customSelectors:i().datamodelsSearchBuilder()},o.datastreamSelected=function(e,t){var a={};a.$item=e,a.$model=t,o.onSelectItem(a)},o.datastreamRemove=function(e,t){var a={};a.$item=e,a.$model=t,o.onRemove(a)}}]),angular.module("opengate-angular-js").component("customUiSelectDatastream",{templateUrl:"views/custom.ui.select.datastream.html",controller:"customUiSelectDatastreamController",bindings:{onSelectItem:"&",onRemove:"&",datastream:"=",multiple:"<",isRequired:"="}}),angular.module("opengate-angular-js").controller("customUiSelectBundleController",["$scope","$element","$attrs","$api","$q",function(e,t,a,i,r){var o=this;o.ownConfig={builder:i().bundlesSearchBuilder(),filter:function(e){return o.lastSearch=e,e?{or:[{like:{"bundles.name":e}},{like:{"bundles.version":e}},{like:{"bundles.description":e}}]}:{}},rootKey:"bundles",collection:[],customSelectors:i().bundlesSearchBuilder()},o.bundleSelected=function(e,t){var a={};a.$item=e,a.$model=t,o.onSelectItem(a)},o.bundleRemove=function(e,t){var a={};a.$item=e,a.$model=t,o.onRemove(a)}}]),angular.module("opengate-angular-js").component("customUiSelectBundle",{templateUrl:"views/custom.ui.select.bundle.html",controller:"customUiSelectBundleController",bindings:{onSelectItem:"&",onRemove:"&",bundle:"=",multiple:"<",isRequired:"="}}),angular.module("opengate-angular-js").controller("customUiSelectAreaController",["$scope","$element","$attrs","$api","$q",function(e,t,a,i,r){var o,l=this;l.organization&&(o=[{eq:{"areas.organization":l.organization}}]),l.ownConfig={builder:i().areasSearchBuilder(),filter:function(e){return l.lastSearch=e,o?(e&&o.push({or:[{like:{"areas.name":e}},{like:{"areas.organization":e}}]}),{and:o}):e?{or:[{like:{"areas.name":e}},{like:{"areas.organization":e}}]}:{}},rootKey:"areas",collection:[],customSelectors:i().areasSearchBuilder()},l.areaSelected=function(e,t){var a={};a.$item=e,a.$model=t,l.onSelectItem(a)},l.areaRemove=function(e,t){var a={};a.$item=e,a.$model=t,l.onRemove(a)}}]),angular.module("opengate-angular-js").component("customUiSelectArea",{templateUrl:"views/custom.ui.select.area.html",controller:"customUiSelectAreaController",bindings:{onSelectItem:"&",onRemove:"&",area:"=",multiple:"<",isRequired:"=",organization:"<"}})}(window);