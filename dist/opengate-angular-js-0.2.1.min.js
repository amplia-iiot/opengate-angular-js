!function(a,e){"use strict";angular.module("opengate-angular-js",[]),angular.module("opengate-angular-js").run(["$templateCache",function(a){a.put("views/window-time.select.view.html",'<div class=window-time-container><button type=button class="btn btn-xs" ng-class=oneDayClass ng-click=oneDay()>Last day</button> <button type=button class="btn btn-xs" ng-class=oneWeekClass ng-click=oneWeek()>Last 7 days</button> <button type=button class="btn btn-xs" ng-class=oneMonthClass ng-click=oneMonth()>Last 30 days</button> <button type=button class="btn btn-xs" ng-class=customClass ng-click=custom()>Custom</button> <button type=button class="btn btn-xs btn-info" ng-if=customEnabled ng-disabled=!!errorCustomWindow ng-click=applyCustom()>Apply</button> <button type=button class="btn btn-xs btn-info" ng-if=filterApplied ng-click=clear()>Clear</button><div ng-if=customEnabled class=window-time-body><div class=row><div class=col-xs-12><p class=input-group><label class=control-label>From: {{fromDate | date:\'fullDate\'}}</label> <input readonly datepicker-options=fromOptions type=text class=form-control show-button-bar=false uib-datepicker-popup={{format}} ng-model=date.from is-open=fromPopup.opened ng-required=true close-text=Close ng-change=fromChange()> <span class=input-group-btn><a class="btn btn-sm" ng-click=fromOpen()><i class="glyphicon glyphicon-calendar"></i></a></span></p></div><div class=col-xs-12><div uib-timepicker max=fromMax ng-model=date.from show-meridian=false ng-change=fromChange()></div></div></div><div class=row><div class=col-xs-12><p class=input-group><label class=control-label>To: {{toDate | date:\'fullDate\'}}</label> <input readonly datepicker-options=toOptions type=text class=form-control show-button-bar=false uib-datepicker-popup={{format}} ng-model=date.to is-open=toPopup.opened ng-required=true close-text=Close ng-change=toChange()> <span class=input-group-btn><button type=button class="btn btn-sm" ng-click=toOpen()><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class=col-xs-12><div uib-timepicker max=toMax min=toMin ng-model=date.to show-meridian=false ng-change=toChange()></div></div></div><alert type=danger ng-show=errorCustomWindow class=text-danger style="display: block;text-align: center;"><span ng-bind=errorCustomWindow></span></alert></div></div>')}]),angular.module("opengate-angular-js").service("$oguxThemes",[function(){var a=[{name:"default"},{name:"light"}],t={red:{id:"red",sample:"#f44336",name:"Red",theme:["light","default"]},pink:{id:"pink",sample:"#e91e63",name:"Pink",theme:["light","default"]},purple:{id:"purple",sample:"#9c27b0",name:"Purple",theme:["light"]},deeppurple:{id:"deeppurple",sample:"#673ab7",name:"Deep Purple",theme:["light"]},indigo:{id:"indigo",sample:"#3f51b5",name:"Indigo",theme:["light"]},blue:{id:"blue",sample:"#2196f3",name:"Blue",theme:["light","default"]},lightblue:{id:"lightblue",sample:"#03a9f4",name:"Light Blue",theme:["light","default"]},cyan:{id:"cyan",sample:"#00bcd4",name:"Cyan",theme:["light","default"]},teal:{id:"teal",sample:"#009688",name:"Teal",theme:["light","default"]},green:{id:"green",sample:"#4caf50",name:"Green",theme:["light","default"]},lightgreen:{id:"lightgreen",sample:"#8bc34a",name:"Light Green",theme:["light","default"]},lime:{id:"lime",sample:"#cddc39",name:"Lime",theme:["default"]},yellow:{id:"yellow",sample:"#ffeb3b",name:"Yellow",theme:["default"]},amber:{id:"amber",sample:"#ffc107",name:"Amber",theme:["default"]},orange:{id:"orange",sample:"#ff9800",name:"Orange",theme:["light","default"]},deeporange:{id:"deeporange",sample:"#ff5722",name:"Deep Orange",theme:["light","default"]},brown:{id:"brown",sample:"#795548",name:"Brown",theme:["light"]},grey:{id:"grey",sample:"#9e9e9e",name:"Grey",theme:["light","default"]},bluegrey:{id:"bluegrey",sample:"#607d8b",name:"Blue Grey",theme:["light","default"]},darkgrey:{id:"darkgrey",sample:"#2D2D2D",name:"Dark Grey",theme:["light"]}};return{colors:function(){return t},themes:function(){return a},getColorConfig:function(a){return t[a]?t[a]:e},getColorsKeys:function(){return Object.keys(t)},colorsByTheme:function(a){var e=[];return angular.forEach(t,function(t,r){t.theme.indexOf(a)!==-1&&e.push(t)}),e}}}]),angular.module("opengate-angular-js").service("$ogapi",function(){function t(){var t=e;this.api=function(){if("undefined"!=typeof t)return t;throw new Error("Must invoke create([options]) function before api() function")},this.create=function(e){return t=new a.OpenGateAPI(e)},this.release=function(){return t=e,this}}return new t}),angular.module("opengate-angular-js").service("$ogapiErrorParser",[function(){return{toString:function(a){var e="";if(a.data&&a.data.errors&&a.data.errors.length>0)for(var t=0;t<a.data.errors.length;t++)e+=a.data.errors[t].message+"\n";else e=a.data?a.data:a;return e},toStringArray:function(a){var e=[];if(a.data&&a.data.errors&&a.data.errors.length>0)for(var t=0;t<a.data.errors.length;t++)e.push(a.data.errors[t].message);else a.data?e.push(a.data):e.push(a);return e}}}]),angular.module("opengate-angular-js").service("$faIcons",[function(){var a=["fa-500px","fa-address-book","fa-address-book-o","fa-address-card","fa-address-card-o","fa-adjust","fa-adn","fa-align-center","fa-align-justify","fa-align-left","fa-align-right","fa-amazon","fa-ambulance","fa-american-sign-language-interpreting","fa-anchor","fa-android","fa-angellist","fa-angle-double-down","fa-angle-double-left","fa-angle-double-right","fa-angle-double-up","fa-angle-down","fa-angle-left","fa-angle-right","fa-angle-up","fa-apple","fa-archive","fa-area-chart","fa-arrow-circle-down","fa-arrow-circle-left","fa-arrow-circle-o-down","fa-arrow-circle-o-left","fa-arrow-circle-o-right","fa-arrow-circle-o-up","fa-arrow-circle-right","fa-arrow-circle-up","fa-arrow-down","fa-arrow-left","fa-arrow-right","fa-arrow-up","fa-arrows","fa-arrows-alt","fa-arrows-h","fa-arrows-v","fa-asl-interpreting","fa-assistive-listening-systems","fa-asterisk","fa-at","fa-audio-description","fa-automobile","fa-backward","fa-balance-scale","fa-ban","fa-bandcamp","fa-bank","fa-bar-chart","fa-bar-chart-o","fa-barcode","fa-bars","fa-bath","fa-bathtub","fa-battery","fa-battery-0","fa-battery-1","fa-battery-2","fa-battery-3","fa-battery-4","fa-battery-empty","fa-battery-full","fa-battery-half","fa-battery-quarter","fa-battery-three-quarters","fa-bed","fa-beer","fa-behance","fa-behance-square","fa-bell","fa-bell-o","fa-bell-slash","fa-bell-slash-o","fa-bicycle","fa-binoculars","fa-birthday-cake","fa-bitbucket","fa-bitbucket-square","fa-bitcoin","fa-black-tie","fa-blind","fa-bluetooth","fa-bluetooth-b","fa-bold","fa-bolt","fa-bomb","fa-book","fa-bookmark","fa-bookmark-o","fa-braille","fa-briefcase","fa-btc","fa-bug","fa-building","fa-building-o","fa-bullhorn","fa-bullseye","fa-bus","fa-buysellads","fa-cab","fa-calculator","fa-calendar","fa-calendar-check-o","fa-calendar-minus-o","fa-calendar-o","fa-calendar-plus-o","fa-calendar-times-o","fa-camera","fa-camera-retro","fa-car","fa-caret-down","fa-caret-left","fa-caret-right","fa-caret-square-o-down","fa-caret-square-o-left","fa-caret-square-o-right","fa-caret-square-o-up","fa-caret-up","fa-cart-arrow-down","fa-cart-plus","fa-cc","fa-cc-amex","fa-cc-diners-club","fa-cc-discover","fa-cc-jcb","fa-cc-mastercard","fa-cc-paypal","fa-cc-stripe","fa-cc-visa","fa-certificate","fa-chain","fa-chain-broken","fa-check","fa-check-circle","fa-check-circle-o","fa-check-square","fa-check-square-o","fa-chevron-circle-down","fa-chevron-circle-left","fa-chevron-circle-right","fa-chevron-circle-up","fa-chevron-down","fa-chevron-left","fa-chevron-right","fa-chevron-up","fa-child","fa-chrome","fa-circle","fa-circle-o","fa-circle-o-notch","fa-circle-thin","fa-clipboard","fa-clock-o","fa-clone","fa-close","fa-cloud","fa-cloud-download","fa-cloud-upload","fa-cny","fa-code","fa-code-fork","fa-codepen","fa-codiepie","fa-coffee","fa-cog","fa-cogs","fa-columns","fa-comment","fa-comment-o","fa-commenting","fa-commenting-o","fa-comments","fa-comments-o","fa-compass","fa-compress","fa-connectdevelop","fa-contao","fa-copy","fa-copyright","fa-creative-commons","fa-credit-card","fa-credit-card-alt","fa-crop","fa-crosshairs","fa-css3","fa-cube","fa-cubes","fa-cut","fa-cutlery","fa-dashboard","fa-dashcube","fa-database","fa-deaf","fa-deafness","fa-dedent","fa-delicious","fa-desktop","fa-deviantart","fa-diamond","fa-digg","fa-dollar","fa-dot-circle-o","fa-download","fa-dribbble","fa-drivers-license","fa-drivers-license-o","fa-dropbox","fa-drupal","fa-edge","fa-edit","fa-eercast","fa-eject","fa-ellipsis-h","fa-ellipsis-v","fa-empire","fa-envelope","fa-envelope-o","fa-envelope-open","fa-envelope-open-o","fa-envelope-square","fa-envira","fa-eraser","fa-etsy","fa-eur","fa-euro","fa-exchange","fa-exclamation","fa-exclamation-circle","fa-exclamation-triangle","fa-expand","fa-expeditedssl","fa-external-link","fa-external-link-square","fa-eye","fa-eye-slash","fa-eyedropper","fa-fa","fa-facebook","fa-facebook-f","fa-facebook-official","fa-facebook-square","fa-fast-backward","fa-fast-forward","fa-fax","fa-feed","fa-female","fa-fighter-jet","fa-file","fa-file-archive-o","fa-file-audio-o","fa-file-code-o","fa-file-excel-o","fa-file-image-o","fa-file-movie-o","fa-file-o","fa-file-pdf-o","fa-file-photo-o","fa-file-picture-o","fa-file-powerpoint-o","fa-file-sound-o","fa-file-text","fa-file-text-o","fa-file-video-o","fa-file-word-o","fa-file-zip-o","fa-files-o","fa-film","fa-filter","fa-fire","fa-fire-extinguisher","fa-firefox","fa-first-order","fa-flag","fa-flag-checkered","fa-flag-o","fa-flash","fa-flask","fa-flickr","fa-floppy-o","fa-folder","fa-folder-o","fa-folder-open","fa-folder-open-o","fa-font","fa-font-awesome","fa-fonticons","fa-fort-awesome","fa-forumbee","fa-forward","fa-foursquare","fa-free-code-camp","fa-frown-o","fa-futbol-o","fa-gamepad","fa-gavel","fa-gbp","fa-ge","fa-gear","fa-gears","fa-genderless","fa-get-pocket","fa-gg","fa-gg-circle","fa-gift","fa-git","fa-git-square","fa-github","fa-github-alt","fa-github-square","fa-gitlab","fa-gittip","fa-glass","fa-glide","fa-glide-g","fa-globe","fa-google","fa-google-plus","fa-google-plus-circle","fa-google-plus-official","fa-google-plus-square","fa-google-wallet","fa-graduation-cap","fa-gratipay","fa-grav","fa-group","fa-h-square","fa-hacker-news","fa-hand-grab-o","fa-hand-lizard-o","fa-hand-o-down","fa-hand-o-left","fa-hand-o-right","fa-hand-o-up","fa-hand-paper-o","fa-hand-peace-o","fa-hand-pointer-o","fa-hand-rock-o","fa-hand-scissors-o","fa-hand-spock-o","fa-hand-stop-o","fa-handshake-o","fa-hard-of-hearing","fa-hashtag","fa-hdd-o","fa-header","fa-headphones","fa-heart","fa-heart-o","fa-heartbeat","fa-history","fa-home","fa-hospital-o","fa-hotel","fa-hourglass","fa-hourglass-1","fa-hourglass-2","fa-hourglass-3","fa-hourglass-end","fa-hourglass-half","fa-hourglass-o","fa-hourglass-start","fa-houzz","fa-html5","fa-i-cursor","fa-id-badge","fa-id-card","fa-id-card-o","fa-ils","fa-image","fa-imdb","fa-inbox","fa-indent","fa-industry","fa-info","fa-info-circle","fa-inr","fa-instagram","fa-institution","fa-internet-explorer","fa-intersex","fa-ioxhost","fa-italic","fa-joomla","fa-jpy","fa-jsfiddle","fa-key","fa-keyboard-o","fa-krw","fa-language","fa-laptop","fa-lastfm","fa-lastfm-square","fa-leaf","fa-leanpub","fa-legal","fa-lemon-o","fa-level-down","fa-level-up","fa-life-bouy","fa-life-buoy","fa-life-ring","fa-life-saver","fa-lightbulb-o","fa-line-chart","fa-link","fa-linkedin","fa-linkedin-square","fa-linode","fa-linux","fa-list","fa-list-alt","fa-list-ol","fa-list-ul","fa-location-arrow","fa-lock","fa-long-arrow-down","fa-long-arrow-left","fa-long-arrow-right","fa-long-arrow-up","fa-low-vision","fa-magic","fa-magnet","fa-mail-forward","fa-mail-reply","fa-mail-reply-all","fa-male","fa-map","fa-map-marker","fa-map-o","fa-map-pin","fa-map-signs","fa-mars","fa-mars-double","fa-mars-stroke","fa-mars-stroke-h","fa-mars-stroke-v","fa-maxcdn","fa-meanpath","fa-medium","fa-medkit","fa-meetup","fa-meh-o","fa-mercury","fa-microchip","fa-microphone","fa-microphone-slash","fa-minus","fa-minus-circle","fa-minus-square","fa-minus-square-o","fa-mixcloud","fa-mobile","fa-mobile-phone","fa-modx","fa-money","fa-moon-o","fa-mortar-board","fa-motorcycle","fa-mouse-pointer","fa-music","fa-navicon","fa-neuter","fa-newspaper-o","fa-object-group","fa-object-ungroup","fa-odnoklassniki","fa-odnoklassniki-square","fa-opencart","fa-openid","fa-opera","fa-optin-monster","fa-outdent","fa-pagelines","fa-paint-brush","fa-paper-plane","fa-paper-plane-o","fa-paperclip","fa-paragraph","fa-paste","fa-pause","fa-pause-circle","fa-pause-circle-o","fa-paw","fa-paypal","fa-pencil","fa-pencil-square","fa-pencil-square-o","fa-percent","fa-phone","fa-phone-square","fa-photo","fa-picture-o","fa-pie-chart","fa-pied-piper","fa-pied-piper-alt","fa-pied-piper-pp","fa-pinterest","fa-pinterest-p","fa-pinterest-square","fa-plane","fa-play","fa-play-circle","fa-play-circle-o","fa-plug","fa-plus","fa-plus-circle","fa-plus-square","fa-plus-square-o","fa-podcast","fa-power-off","fa-print","fa-product-hunt","fa-puzzle-piece","fa-qq","fa-qrcode","fa-question","fa-question-circle","fa-question-circle-o","fa-quora","fa-quote-left","fa-quote-right","fa-ra","fa-random","fa-ravelry","fa-rebel","fa-recycle","fa-reddit","fa-reddit-alien","fa-reddit-square","fa-refresh","fa-registered","fa-remove","fa-renren","fa-reorder","fa-repeat","fa-reply","fa-reply-all","fa-resistance","fa-retweet","fa-rmb","fa-road","fa-rocket","fa-rotate-left","fa-rotate-right","fa-rouble","fa-rss","fa-rss-square","fa-rub","fa-ruble","fa-rupee","fa-s15","fa-safari","fa-save","fa-scissors","fa-scribd","fa-search","fa-search-minus","fa-search-plus","fa-sellsy","fa-send","fa-send-o","fa-server","fa-share","fa-share-alt","fa-share-alt-square","fa-share-square","fa-share-square-o","fa-shekel","fa-sheqel","fa-shield","fa-ship","fa-shirtsinbulk","fa-shopping-bag","fa-shopping-basket","fa-shopping-cart","fa-shower","fa-sign-in","fa-sign-language","fa-sign-out","fa-signal","fa-signing","fa-simplybuilt","fa-sitemap","fa-skyatlas","fa-skype","fa-slack","fa-sliders","fa-slideshare","fa-smile-o","fa-snapchat","fa-snapchat-ghost","fa-snapchat-square","fa-snowflake-o","fa-soccer-ball-o","fa-sort","fa-sort-alpha-asc","fa-sort-alpha-desc","fa-sort-amount-asc","fa-sort-amount-desc","fa-sort-asc","fa-sort-desc","fa-sort-down","fa-sort-numeric-asc","fa-sort-numeric-desc","fa-sort-up","fa-soundcloud","fa-space-shuttle","fa-spinner","fa-spoon","fa-spotify","fa-square","fa-square-o","fa-stack-exchange","fa-stack-overflow","fa-star","fa-star-half","fa-star-half-empty","fa-star-half-full","fa-star-half-o","fa-star-o","fa-steam","fa-steam-square","fa-step-backward","fa-step-forward","fa-stethoscope","fa-sticky-note","fa-sticky-note-o","fa-stop","fa-stop-circle","fa-stop-circle-o","fa-street-view","fa-strikethrough","fa-stumbleupon","fa-stumbleupon-circle","fa-subscript","fa-subway","fa-suitcase","fa-sun-o","fa-superpowers","fa-superscript","fa-support","fa-table","fa-tablet","fa-tachometer","fa-tag","fa-tags","fa-tasks","fa-taxi","fa-telegram","fa-television","fa-tencent-weibo","fa-terminal","fa-text-height","fa-text-width","fa-th","fa-th-large","fa-th-list","fa-themeisle","fa-thermometer","fa-thermometer-0","fa-thermometer-1","fa-thermometer-2","fa-thermometer-3","fa-thermometer-4","fa-thermometer-empty","fa-thermometer-full","fa-thermometer-half","fa-thermometer-quarter","fa-thermometer-three-quarters","fa-thumb-tack","fa-thumbs-down","fa-thumbs-o-down","fa-thumbs-o-up","fa-thumbs-up","fa-ticket","fa-times","fa-times-circle","fa-times-circle-o","fa-times-rectangle","fa-times-rectangle-o","fa-tint","fa-toggle-down","fa-toggle-left","fa-toggle-off","fa-toggle-on","fa-toggle-right","fa-toggle-up","fa-trademark","fa-train","fa-transgender","fa-transgender-alt","fa-trash","fa-trash-o","fa-tree","fa-trello","fa-tripadvisor","fa-trophy","fa-truck","fa-try","fa-tty","fa-tumblr","fa-tumblr-square","fa-turkish-lira","fa-tv","fa-twitch","fa-twitter","fa-twitter-square","fa-umbrella","fa-underline","fa-undo","fa-universal-access","fa-university","fa-unlink","fa-unlock","fa-unlock-alt","fa-unsorted","fa-upload","fa-usb","fa-usd","fa-user","fa-user-circle","fa-user-circle-o","fa-user-md","fa-user-o","fa-user-plus","fa-user-secret","fa-user-times","fa-users","fa-vcard","fa-vcard-o","fa-venus","fa-venus-double","fa-venus-mars","fa-viacoin","fa-viadeo","fa-viadeo-square","fa-video-camera","fa-vimeo","fa-vimeo-square","fa-vine","fa-vk","fa-volume-control-phone","fa-volume-down","fa-volume-off","fa-volume-up","fa-warning","fa-wechat","fa-weibo","fa-weixin","fa-whatsapp","fa-wheelchair","fa-wheelchair-alt","fa-wifi","fa-wikipedia-w","fa-window-close","fa-window-close-o","fa-window-maximize","fa-window-minimize","fa-window-restore","fa-windows","fa-won","fa-wordpress","fa-wpbeginner","fa-wpexplorer","fa-wpforms","fa-wrench","fa-xing","fa-xing-square","fa-y-combinator","fa-y-combinator-square","fa-yahoo","fa-yc","fa-yc-square","fa-yelp","fa-yen","fa-yoast","fa-youtube","fa-youtube-play","fa-youtube-square"];return{list:function(){return a},exists:function(e){return a.indexOf(e)>-1}}}]),angular.module("opengate-angular-js").factory("Filter",["$window","$sce","$q",function(a,t,r){function o(a,e){var r,o,f,s=[];if(a&&0!==a.trim().length){var l=a.toLowerCase().trim();for(r=0;r<e.length&&s.length<8;r++)o=e[r],o.toLowerCase().indexOf(l)>-1&&s.push({label:t.trustAsHtml(n(o,a)),value:o});for(r=0;r<u.length&&s.length<12;r++)f=u[r],f.toLowerCase().indexOf(l)>-1&&s.push({label:t.trustAsHtml(n(f,a)),value:f})}else{for(r=0;r<e.length&&s.length<8;r++)o=e[r],s.push({label:t.trustAsHtml(n(o,a)),value:o});for(r=0;r<u.length&&s.length<12;r++)f=u[r],s.push({label:t.trustAsHtml(n(f,a)),value:f})}return s}function f(a,t,f){var n=r.defer();return f.findFields(a).then(function(r){var f=r,s=-1;if(t.selectionStart?s=t.selectionStart-1:t.prop&&(s=t.prop("selectionStart")-1),!(s<0)){var l;if(a!==e&&""!==a){for(var i=-1;s>=0&&i===-1;s--)d.indexOf(a[s])>-1?i=s+1:0===s&&(i=s);var c=i;for(s=i;s<a.length&&c===i;s++)d.indexOf(a[s])>-1?c=s+1:s===a.length-1&&(c=s+1);l=o(a.substring(i,c),f)}else l=o();l.forEach(function(a){a.value=a.value}),n.resolve(l)}})["catch"](function(a){console.error(a),n.reject(a)}),n.promise}function n(a,e){var t=new RegExp("("+e+")","gi");return a.replace(t,'<span class="text-info">$1</span>')}function s(e){var t=r.defer(),o=t.promise,f=null,n={text:[],offsets:[],filter:{}};try{a.jsep.addBinaryOp("and",1),a.jsep.addBinaryOp("&&",1),a.jsep.addBinaryOp("||",2),a.jsep.addBinaryOp("or",2),a.jsep.addBinaryOp("in",3),a.jsep.addBinaryOp("~",6),a.jsep.addBinaryOp("=",6),a.jsep.addBinaryOp("like",6),a.jsep.addBinaryOp("gt",6),a.jsep.addBinaryOp("lte",6),a.jsep.addBinaryOp("gte",6),a.jsep.addBinaryOp("eq",6),f=a.jsep(e),n.filter[f.operator]=[],n.filter=l(f),t.resolve(n)}catch(s){var i=s;s.description&&(i=s.description),t.reject(i)}return o}function l(a){var e,t,r={};if("BinaryExpression"===a.type&&/\eq|\neq|\like|\gt|\lt|\gte|\lte|\=|\'<'|\'>'|\~|\!/.test(a.operator)){e=i(a.left).split(".").reverse().join("."),t=a.right.name||a.right.value;var o=c(a.operator);r[o]={},r[o][e]=t}else"BinaryExpression"===a.type&&/\or|\and/.test(a.operator)&&(r[a.operator]=[],r[a.operator].push(l(a.left)),r[a.operator].push(l(a.right)));return r}function i(a){var e="";return"Identifier"===a.type?e=a.name:"MemberExpression"===a.type&&(e=a.property.name+"."+i(a.object)),e}function c(a){return"=="===a?"eq":"="===a?"eq":"!="===a?"neq":"~"===a?"like":">"===a?"gt":"<"===a?"lt":">="===a?"gte":"<="===a?"lte":a}var u=[],d=[" ","\n","-","!","=","~",">","<","&","or","and",") "];return{suggest_field_delimited:function(a,e,t){var r=f(a,e,t);return r},parseQuery:function(a){var e=s(a);return e}}}]),angular.module("opengate-angular-js").filter("humanize",["$window",function(a){function e(a){return/\d/.test(a)}return function(t,r,o){var f=t;return a.S(f).indexOf("$")!==-1&&(f=a.S(f).strip("$").s),angular.isString(f)&&!e(f)&&(f=a.S(f).humanize().s),f}}]).filter("communicationsInterface",function(){return function(a){var e=a;switch(e){case"COMMUNICATIONS_MODULE":return"Communications module";case"SUBSCRIPTION":return"Mobile line";case"SUBSCRIBER":return"SIM";case"HOME_OPERATOR":return"Home Operator";case"REGISTER_OPERATOR":return"Register Operator";case"ADDRESS":return"IP";case"SOFTWARE":return"Software";case"HARDWARE":return"Hardware";case"entityKey":return"Identifier";default:return e}}}).filter("dateNames",function(){var a={MON:"Monday",TUE:"Tuesday",WED:"Wednesday",THU:"Thursday",FRI:"Friday",SAT:"Saturday",SUN:"Sunday"},e={JAN:"January",FEB:"February",MAR:"March",APR:"April",MAY:"May",JUN:"June",JUL:"July",AUG:"August",SEP:"September",OCT:"October",NOV:"November",DEC:"December"};return function(t){return a[t]||e[t]||t}}).filter("icons",function(){return function(a,e,t){var r="fa fa-info";return"list"===a&&(r="fa fa-list"),"ban"===a&&(r="fa fa-ban"),"laptop"===a&&(r="fa fa-laptop"),"spin"===a&&(r="fa fa-spinner fa-spin"),"unit"===a&&(r="fa fa-plus-square"),"tags"===a&&(r="fa fa-tags"),r}}).filter("codeErrors",function(){var a={1004:"At least one valid reference to an entity is required",1005:"At least one valid reference to an entity is required",1017:"Tag is not valid. Please, check it."};return function(e){return{code:e.code,message:a[e.code]||e.message}}}).filter("textlength",function(){return function(a){return a&&a.length>30?a.substring(0,30)+"...":a}}),angular.module("opengate-angular-js").directive("windowTimeSelect",function(){return{restrict:"AE",templateUrl:"views/window-time.select.view.html",scope:{event:"@",rawdate:"@"},controller:["$scope","$element","$attrs",function(t,r,o){function f(){return a.moment(t.date.from).add(1,"hours")._d}function n(){return a.moment(t.date.to).subtract(1,"minutes")._d}function s(){return a.moment(t.date.to).subtract(1,"months")._d}function l(a){t.date||(t.date={}),t.date.to=a,t.toMax=a,t.toOptions={startingDay:1,showWeeks:!1,maxDate:a}}function i(){t.date.from=s(t.date.to),t.fromOptions={startingDay:1,showWeeks:!1,maxDate:n(t.date.to)},t.toOptions.minDate=f(),t.toMin=f(),t.fromMax=n(t.date.to)}function c(e){var t=a.moment().subtract(1,e);return{from:t._d,type:e}}t.oneDayClass=t.oneWeekClass=t.oneMonthClass=t.customClass="btn-info",t.filterApplied=!1,t.format="dd MMMM yyyy",t.clear=function(){t.oneDayClass=t.oneWeekClass=t.oneMonthClass=t.customClass="btn-info",t.filterApplied=!1,t.customEnabled=!1,t.$emit("onWindowTimeChanged",{})},t.fromOpen=function(){t.fromPopup.opened=!0},t.fromPopup={opened:!1},t.toOpen=function(){t.toPopup.opened=!0},t.toPopup={opened:!1},t.custom=function(){t.customEnabled=!t.customEnabled},t.apply=function(e,r){if(t.filterApplied=!0,t.customEnabled=!1,!a.eval(t.rawdate)){for(var o in e)"type"!==o&&"rawdate"!==o&&(e[o]=a.moment(e[o]).format());e.rawdate=!1}r&&t.$emit("onWindowTimeChanged",e)},t.oneDay=function(a){t.oneDayClass="btn-success",t.oneWeekClass=t.oneMonthClass=t.customClass="btn-info",t.apply(c("days"),!a)},t.oneWeek=function(a){t.oneWeekClass="btn-success",t.oneDayClass=t.oneMonthClass=t.customClass="btn-info",t.apply(c("weeks"),!a)},t.oneMonth=function(a){t.oneMonthClass="btn-success",t.oneWeekClass=t.oneDayClass=t.customClass="btn-info",t.apply(c("months"),!a)},t.applyCustom=function(a){t.customClass="btn-success",t.oneWeekClass=t.oneDayClass=t.oneMonthClass="btn-info",t.apply({type:"custom",to:t.date.to,from:t.date.from},!a)},t.init=function(){function r(){a.moment(t.date.to).diff(t.date.from)<=0?t.errorCustomWindow="From date("+t.date.from.toISOString()+") is bigger than to date("+t.date.to.toISOString()+")":t.errorCustomWindow=e}if(l(new Date),i(),t.toChange=function(){r(),t.fromOptions={maxDate:n(t.date.to)},t.fromMax=n(t.date.to)},t.fromChange=function(){r(),t.toOptions.minDate=f(),t.toMin=f()},t.$parent.config&&t.$parent.config.windowFilter){var o=t.$parent.config.windowFilter;switch(a.eval(t.rawdate)||(t.$parent.config.windowFilter.rawdate=!1),o.type){case"days":t.oneDay(!0);break;case"weeks":t.oneWeek(!0);break;case"months":t.oneMonth(!0);break;case"custom":o.to&&o.from&&(t.date.to=new Date(o.to),t.date.from=new Date(o.from)),t.applyCustom(!0)}}},t.init()}]}}),angular.module("opengate-angular-js").directive("showErrors",["$timeout","$interpolate",function(a,e){var t=function(t,r,o,f){var n,s,l,i,c,u,d=!1,p=!1;if(i=t.$eval(o.showErrors)||{},c=i.showSuccess||!1,n=r[0].querySelector(".form-control[name]")||r[0].querySelector("[name]"),l=angular.element(n),s=e(l.attr("name")||"")(t),!s)throw"show-errors element has no child input elements with a 'name' attribute class";var m=function(){return a(function(){r.removeClass("has-error"),r.removeClass("has-success"),p=!1},0,!1)};t.$watch(function(){return f[s]&&f[s].$invalid},function(a){return u(a)}),t.$on("show-errors-check-validity",function(a,e){if(angular.isUndefined(e)||f.$name===e)return d=!0,p=!0,u(f[s].$invalid)}),t.$on("show-errors-reset",function(a,e){if(angular.isUndefined(e)||f.$name===e)return m()}),u=function(a){if(r.toggleClass("has-error",p&&a),c)return r.toggleClass("has-success",p&&!a)}};return{restrict:"A",require:"^form",compile:function(a,e){if(e.showErrors.indexOf("skipFormGroupCheck")===-1&&!a.hasClass("form-group")&&!a.hasClass("input-group"))throw"show-errors element does not have the 'form-group' or 'input-group' class";return t}}}]),angular.module("opengate-angular-js").directive("elemReady",["$parse",function(a){return{restrict:"A",link:function(e,t,r){t.ready(function(){e.$apply(function(){var t=a(r.elemReady);t(e)})})}}}]),angular.module("opengate-angular-js").directive("disallowSpaces",function(){return{restrict:"A",link:function(e,t){t.bind("input",function(){a.$(this).val(a.$(this).val().replace(/ /g,""))})}}}),angular.module("opengate-angular-js").directive("customUiSelect",["$compile","Filter",function(a,e){var t=angular.element('<div title="Toggle Advanced/Basic filter search" ng-click="complex()" style="cursor:pointer" class="custom-ui-select-button input-group-addon"><i class="fa fa-filter"></i><i class="filter-icon fa fa-bold text-muted"></i></div>'),r=angular.element('<div class="custom-ui-select-container input-group"></div>'),o=function(a,e){var t=a.querySelectorAll("ui-select-choices");t.attr("refresh",e),t.attr("refresh-delay","0")};return{require:"uiSelect",scope:!0,bindToController:!0,controller:["$scope","$element","$attrs",function(a,t,r){function o(a){if(l.prefilter){var e={and:[]};return e.and.push(l.prefilter),e.and.push(a),e}return a}function f(){var e=r.customUiSelectConfig.split(".");if(1===e.length)return a[r.customUiSelectConfig];var t=a;return e.forEach(function(a){t=t[a]}),t}function n(a,e,t,r){i&&clearTimeout(i),i=setTimeout(function(){s(a,e,t,r)},500)}function s(e,t,o,f){r.$$button.querySelectorAll(".filter-icon").removeClass("fa-bold").removeClass("fa-font").addClass("fa-spinner").addClass("fa-spin"),e.limit(1e3).filter(f).build().execute().then(function(e){if(a._complex?r.$$button.querySelectorAll(".filter-icon").removeClass("fa-spinner").removeClass("fa-spin").addClass("fa-font"):r.$$button.querySelectorAll(".filter-icon").removeClass("fa-spinner").removeClass("fa-spin").addClass("fa-bold"),200===e.statusCode){var f=[];angular.isFunction(l.processingData)?l.processingData(e,f):f=e.data[o];var n=[];angular.isArray(f)?angular.copy(f,n):angular.forEach(f,function(a,e){n.push(a)}),angular.copy(n,t)}else t.splice(0,t.length),204!==e.statusCode?console.error(JSON.stringify(e)):console.log(JSON.stringify(e));a.$apply()})["catch"](function(a){r.$$button.querySelectorAll(".filter-icon").removeClass("fa-spinner").removeClass("fa-spin").addClass("fa-filter")})}var l=f();a.complexfilter=function(a){e.parseQuery(a||"").then(function(a){var e=a.filter;Object.keys(e).length>0?(n(l.builder,l.collection,l.rootKey,o(e)),console.log("Final filter: "+e)):l.collection.splice(0,l.collection.length)})["catch"](function(a){l.collection.splice(0,l.collection.length)})},a.asyncfilter=function(a){n(l.builder,l.collection,l.rootKey,o(l.filter(a)))},a._complex=r.$$button.querySelectorAll(".fa-filter").hasClass("text-primary"),a.complex=function(){a._complex=!a._complex,a._complex?(t.css("display","").removeClass("custom-ui-select-hide"),r.$$cloneElement.css("display","none").addClass("custom-ui-select-hide"),r.$$button.querySelectorAll(".filter-icon").removeClass("fa-bold").removeClass("text-muted").addClass("fa-font").addClass("text-primary")):(t.css("display","none").addClass("custom-ui-select-hide"),r.$$cloneElement.css("display","").removeClass("custom-ui-select-hide"),r.$$button.querySelectorAll(".filter-icon").removeClass("fa-font").addClass("text-muted").addClass("fa-bold").removeClass("text-primary"))},a.customUiTagTransform=function(a){return null};var i=null}],compile:function(f,n){n.$$button=t.clone(),n.$$container=r.clone();var s="true"!==n.multiple,l=n.tagging;console.log("isSimple: "+s),s&&(f.attr("limit","1"),n.limit="1",n.searchEnabled="!$select.selected || $select.selected.length === 0",f.attr("search-enabled","!$select.selected || $select.selected.length === 0")),l&&0!==l.trim().length||(f.attr("tagging","customUiTagTransform"),n.tagging="customUiTagTransform");var i="asyncfilter($select.search);",c="complexfilter($select.search);";if(n.customMassAutocompleteItem){o(f,c);var u=angular.element(f.clone());u.removeAttr("custom-ui-select"),o(u,i),n.$$templateElement=u}else o(f,i);return function(t,r,o,f){function n(){var a=o.customMassAutocompleteItem.split(".");if(1===a.length)return t[o.customMassAutocompleteItem];var e=t;return a.forEach(function(a){e=e[a]}),e}var s="mass-autocomplete-ui-select",l="async-ui-select";if(o.customMassAutocompleteItem){r.addClass(s);var i=n();i.suggest||(i.suggest=e.suggest_field_delimited);var c=r.querySelectorAll("input.ui-select-search");c.attr("mass-autocomplete-item",o.customMassAutocompleteItem),a(c)(t),o.$$container.empty(),r.before(o.$$container),r.detach(),o.$$container.append(r);var u=o.$$templateElement.clone(),d=a(u)(t,function(a,e){o.$$container.append(a)});d.addClass(l),o.$$cloneElement=d,a(o.$$button)(t),o.$$container.append(o.$$button),r.css("display","none").addClass("custom-ui-select-hide");var p=[];o.$$container.bind("keydown",function(a){p.push(a.keyCode)}),o.$$container.bind("keyup",function(a){p.length>0&&(angular.equals(p,[17,18,70])&&t.complex(),p.splice(0,p.length))})}else r.addClass(l)}}}}])}(window);